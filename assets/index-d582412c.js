(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function P1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _f={exports:{}},Co={},vf={exports:{}},b={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=Symbol.for("react.element"),A1=Symbol.for("react.portal"),D1=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),O1=Symbol.for("react.profiler"),M1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),L1=Symbol.for("react.forward_ref"),F1=Symbol.for("react.suspense"),z1=Symbol.for("react.memo"),B1=Symbol.for("react.lazy"),Xu=Symbol.iterator;function $1(t){return t===null||typeof t!="object"?null:(t=Xu&&t[Xu]||t["@@iterator"],typeof t=="function"?t:null)}var yf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wf=Object.assign,Cf={};function Nr(t,e,n){this.props=t,this.context=e,this.refs=Cf,this.updater=n||yf}Nr.prototype.isReactComponent={};Nr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ef(){}Ef.prototype=Nr.prototype;function lc(t,e,n){this.props=t,this.context=e,this.refs=Cf,this.updater=n||yf}var ac=lc.prototype=new Ef;ac.constructor=lc;wf(ac,Nr.prototype);ac.isPureReactComponent=!0;var Ju=Array.isArray,Sf=Object.prototype.hasOwnProperty,cc={current:null},xf={key:!0,ref:!0,__self:!0,__source:!0};function kf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Sf.call(e,r)&&!xf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:$i,type:t,key:s,ref:o,props:i,_owner:cc.current}}function U1(t,e){return{$$typeof:$i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uc(t){return typeof t=="object"&&t!==null&&t.$$typeof===$i}function V1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zu=/\/+/g;function rl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V1(""+t.key):e.toString(36)}function ws(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $i:case A1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rl(o,0):r,Ju(i)?(n="",t!=null&&(n=t.replace(Zu,"$&/")+"/"),ws(i,e,n,"",function(c){return c})):i!=null&&(uc(i)&&(i=U1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zu,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ju(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+rl(s,l);o+=ws(s,e,n,a,i)}else if(a=$1(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+rl(s,l++),o+=ws(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function es(t,e,n){if(t==null)return t;var r=[],i=0;return ws(t,r,"","",function(s){return e.call(n,s,i++)}),r}function W1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},Cs={transition:null},H1={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:cc};function Nf(){throw Error("act(...) is not supported in production builds of React.")}b.Children={map:es,forEach:function(t,e,n){es(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return es(t,function(){e++}),e},toArray:function(t){return es(t,function(e){return e})||[]},only:function(t){if(!uc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};b.Component=Nr;b.Fragment=D1;b.Profiler=O1;b.PureComponent=lc;b.StrictMode=j1;b.Suspense=F1;b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1;b.act=Nf;b.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Sf.call(e,a)&&!xf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:$i,type:t.type,key:i,ref:s,props:r,_owner:o}};b.createContext=function(t){return t={$$typeof:b1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:M1,_context:t},t.Consumer=t};b.createElement=kf;b.createFactory=function(t){var e=kf.bind(null,t);return e.type=t,e};b.createRef=function(){return{current:null}};b.forwardRef=function(t){return{$$typeof:L1,render:t}};b.isValidElement=uc;b.lazy=function(t){return{$$typeof:B1,_payload:{_status:-1,_result:t},_init:W1}};b.memo=function(t,e){return{$$typeof:z1,type:t,compare:e===void 0?null:e}};b.startTransition=function(t){var e=Cs.transition;Cs.transition={};try{t()}finally{Cs.transition=e}};b.unstable_act=Nf;b.useCallback=function(t,e){return Ie.current.useCallback(t,e)};b.useContext=function(t){return Ie.current.useContext(t)};b.useDebugValue=function(){};b.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};b.useEffect=function(t,e){return Ie.current.useEffect(t,e)};b.useId=function(){return Ie.current.useId()};b.useImperativeHandle=function(t,e,n){return Ie.current.useImperativeHandle(t,e,n)};b.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};b.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};b.useMemo=function(t,e){return Ie.current.useMemo(t,e)};b.useReducer=function(t,e,n){return Ie.current.useReducer(t,e,n)};b.useRef=function(t){return Ie.current.useRef(t)};b.useState=function(t){return Ie.current.useState(t)};b.useSyncExternalStore=function(t,e,n){return Ie.current.useSyncExternalStore(t,e,n)};b.useTransition=function(){return Ie.current.useTransition()};b.version="18.3.1";vf.exports=b;var z=vf.exports;const Wt=P1(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1=z,G1=Symbol.for("react.element"),Q1=Symbol.for("react.fragment"),Y1=Object.prototype.hasOwnProperty,q1=K1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X1={key:!0,ref:!0,__self:!0,__source:!0};function If(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Y1.call(e,r)&&!X1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:G1,type:t,key:s,ref:o,props:i,_owner:q1.current}}Co.Fragment=Q1;Co.jsx=If;Co.jsxs=If;_f.exports=Co;var u=_f.exports,Wl={},Tf={exports:{}},Ue={},Rf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,A){var D=k.length;k.push(A);e:for(;0<D;){var re=D-1>>>1,ae=k[re];if(0<i(ae,A))k[re]=A,k[D]=ae,D=re;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var A=k[0],D=k.pop();if(D!==A){k[0]=D;e:for(var re=0,ae=k.length,Ji=ae>>>1;re<Ji;){var hn=2*(re+1)-1,nl=k[hn],fn=hn+1,Zi=k[fn];if(0>i(nl,D))fn<ae&&0>i(Zi,nl)?(k[re]=Zi,k[fn]=D,re=fn):(k[re]=nl,k[hn]=D,re=hn);else if(fn<ae&&0>i(Zi,D))k[re]=Zi,k[fn]=D,re=fn;else break e}}return A}function i(k,A){var D=k.sortIndex-A.sortIndex;return D!==0?D:k.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,f=null,h=3,_=!1,v=!1,y=!1,R=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(k){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=k)r(c),A.sortIndex=A.expirationTime,e(a,A);else break;A=n(c)}}function w(k){if(y=!1,g(k),!v)if(n(a)!==null)v=!0,el(S);else{var A=n(c);A!==null&&tl(w,A.startTime-k)}}function S(k,A){v=!1,y&&(y=!1,m(T),T=-1),_=!0;var D=h;try{for(g(A),f=n(a);f!==null&&(!(f.expirationTime>A)||k&&!Je());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var ae=re(f.expirationTime<=A);A=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(a)&&r(a),g(A)}else r(a);f=n(a)}if(f!==null)var Ji=!0;else{var hn=n(c);hn!==null&&tl(w,hn.startTime-A),Ji=!1}return Ji}finally{f=null,h=D,_=!1}}var I=!1,N=null,T=-1,ne=5,L=-1;function Je(){return!(t.unstable_now()-L<ne)}function jr(){if(N!==null){var k=t.unstable_now();L=k;var A=!0;try{A=N(!0,k)}finally{A?Or():(I=!1,N=null)}}else I=!1}var Or;if(typeof p=="function")Or=function(){p(jr)};else if(typeof MessageChannel<"u"){var qu=new MessageChannel,R1=qu.port2;qu.port1.onmessage=jr,Or=function(){R1.postMessage(null)}}else Or=function(){R(jr,0)};function el(k){N=k,I||(I=!0,Or())}function tl(k,A){T=R(function(){k(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,el(S))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var D=h;h=A;try{return k()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=h;h=k;try{return A()}finally{h=D}},t.unstable_scheduleCallback=function(k,A,D){var re=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?re+D:re):D=re,k){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=D+ae,k={id:d++,callback:A,priorityLevel:k,startTime:D,expirationTime:ae,sortIndex:-1},D>re?(k.sortIndex=D,e(c,k),n(a)===null&&k===n(c)&&(y?(m(T),T=-1):y=!0,tl(w,D-re))):(k.sortIndex=ae,e(a,k),v||_||(v=!0,el(S))),k},t.unstable_shouldYield=Je,t.unstable_wrapCallback=function(k){var A=h;return function(){var D=h;h=A;try{return k.apply(this,arguments)}finally{h=D}}}})(Pf);Rf.exports=Pf;var J1=Rf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=z,$e=J1;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Af=new Set,fi={};function Fn(t,e){fr(t,e),fr(t+"Capture",e)}function fr(t,e){for(fi[t]=e,t=0;t<e.length;t++)Af.add(e[t])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=Object.prototype.hasOwnProperty,e_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function t_(t){return Hl.call(td,t)?!0:Hl.call(ed,t)?!1:e_.test(t)?td[t]=!0:(ed[t]=!0,!1)}function n_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r_(t,e,n,r){if(e===null||typeof e>"u"||n_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var dc=/[\-:]([a-z])/g;function hc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dc,hc);ve[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dc,hc);ve[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dc,hc);ve[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function fc(t,e,n,r){var i=ve.hasOwnProperty(e)?ve[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r_(e,n,i,r)&&(n=null),r||i===null?t_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Dt=Z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ts=Symbol.for("react.element"),Hn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),pc=Symbol.for("react.strict_mode"),Kl=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),jf=Symbol.for("react.context"),mc=Symbol.for("react.forward_ref"),Gl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),gc=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),Of=Symbol.for("react.offscreen"),nd=Symbol.iterator;function Mr(t){return t===null||typeof t!="object"?null:(t=nd&&t[nd]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,il;function Gr(t){if(il===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);il=e&&e[1]||""}return`
`+il+t}var sl=!1;function ol(t,e){if(!t||sl)return"";sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{sl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gr(t):""}function i_(t){switch(t.tag){case 5:return Gr(t.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 2:case 15:return t=ol(t.type,!1),t;case 11:return t=ol(t.type.render,!1),t;case 1:return t=ol(t.type,!0),t;default:return""}}function Yl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kn:return"Fragment";case Hn:return"Portal";case Kl:return"Profiler";case pc:return"StrictMode";case Gl:return"Suspense";case Ql:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jf:return(t.displayName||"Context")+".Consumer";case Df:return(t._context.displayName||"Context")+".Provider";case mc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gc:return e=t.displayName||null,e!==null?e:Yl(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return Yl(t(e))}catch{}}return null}function s_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yl(e);case 8:return e===pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o_(t){var e=Mf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ns(t){t._valueTracker||(t._valueTracker=o_(t))}function bf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ql(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lf(t,e){e=e.checked,e!=null&&fc(t,"checked",e,!1)}function Xl(t,e){Lf(t,e);var n=nn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jl(t,e.type,nn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function id(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jl(t,e,n){(e!=="number"||Ds(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qr=Array.isArray;function ir(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Qr(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nn(n)}}function Ff(t,e){var n=nn(e.value),r=nn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function od(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rs,Bf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l_=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(t){l_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jr[e]=Jr[t]})});function $f(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jr.hasOwnProperty(t)&&Jr[t]?(""+e).trim():e+"px"}function Uf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$f(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var a_=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(t,e){if(e){if(a_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function na(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ra=null;function _c(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ia=null,sr=null,or=null;function ld(t){if(t=Wi(t)){if(typeof ia!="function")throw Error(C(280));var e=t.stateNode;e&&(e=No(e),ia(t.stateNode,t.type,e))}}function Vf(t){sr?or?or.push(t):or=[t]:sr=t}function Wf(){if(sr){var t=sr,e=or;if(or=sr=null,ld(t),e)for(t=0;t<e.length;t++)ld(e[t])}}function Hf(t,e){return t(e)}function Kf(){}var ll=!1;function Gf(t,e,n){if(ll)return t(e,n);ll=!0;try{return Hf(t,e,n)}finally{ll=!1,(sr!==null||or!==null)&&(Kf(),Wf())}}function mi(t,e){var n=t.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var sa=!1;if(kt)try{var br={};Object.defineProperty(br,"passive",{get:function(){sa=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{sa=!1}function c_(t,e,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Zr=!1,js=null,Os=!1,oa=null,u_={onError:function(t){Zr=!0,js=t}};function d_(t,e,n,r,i,s,o,l,a){Zr=!1,js=null,c_.apply(u_,arguments)}function h_(t,e,n,r,i,s,o,l,a){if(d_.apply(this,arguments),Zr){if(Zr){var c=js;Zr=!1,js=null}else throw Error(C(198));Os||(Os=!0,oa=c)}}function zn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ad(t){if(zn(t)!==t)throw Error(C(188))}function f_(t){var e=t.alternate;if(!e){if(e=zn(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ad(i),t;if(s===r)return ad(i),e;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Yf(t){return t=f_(t),t!==null?qf(t):null}function qf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qf(t);if(e!==null)return e;t=t.sibling}return null}var Xf=$e.unstable_scheduleCallback,cd=$e.unstable_cancelCallback,p_=$e.unstable_shouldYield,m_=$e.unstable_requestPaint,ie=$e.unstable_now,g_=$e.unstable_getCurrentPriorityLevel,vc=$e.unstable_ImmediatePriority,Jf=$e.unstable_UserBlockingPriority,Ms=$e.unstable_NormalPriority,__=$e.unstable_LowPriority,Zf=$e.unstable_IdlePriority,Eo=null,pt=null;function v_(t){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Eo,t,void 0,(t.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:C_,y_=Math.log,w_=Math.LN2;function C_(t){return t>>>=0,t===0?32:31-(y_(t)/w_|0)|0}var is=64,ss=4194304;function Yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Yr(l):(s&=o,s!==0&&(r=Yr(s)))}else o=n&~i,o!==0?r=Yr(o):s!==0&&(r=Yr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ot(e),i=1<<n,r|=t[n],e&=~i;return r}function E_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ot(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=E_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function la(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ep(){var t=is;return is<<=1,!(is&4194240)&&(is=64),t}function al(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ui(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ot(e),t[e]=n}function x_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function yc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ot(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $=0;function tp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var np,wc,rp,ip,sp,aa=!1,os=[],Ht=null,Kt=null,Gt=null,gi=new Map,_i=new Map,zt=[],k_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(t,e){switch(t){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(e.pointerId)}}function Lr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wi(e),e!==null&&wc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function N_(t,e,n,r,i){switch(e){case"focusin":return Ht=Lr(Ht,t,e,n,r,i),!0;case"dragenter":return Kt=Lr(Kt,t,e,n,r,i),!0;case"mouseover":return Gt=Lr(Gt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return gi.set(s,Lr(gi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_i.set(s,Lr(_i.get(s)||null,t,e,n,r,i)),!0}return!1}function op(t){var e=vn(t.target);if(e!==null){var n=zn(e);if(n!==null){if(e=n.tag,e===13){if(e=Qf(n),e!==null){t.blockedOn=e,sp(t.priority,function(){rp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Es(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ca(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ra=r,n.target.dispatchEvent(r),ra=null}else return e=Wi(n),e!==null&&wc(e),t.blockedOn=n,!1;e.shift()}return!0}function dd(t,e,n){Es(t)&&n.delete(e)}function I_(){aa=!1,Ht!==null&&Es(Ht)&&(Ht=null),Kt!==null&&Es(Kt)&&(Kt=null),Gt!==null&&Es(Gt)&&(Gt=null),gi.forEach(dd),_i.forEach(dd)}function Fr(t,e){t.blockedOn===e&&(t.blockedOn=null,aa||(aa=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,I_)))}function vi(t){function e(i){return Fr(i,t)}if(0<os.length){Fr(os[0],t);for(var n=1;n<os.length;n++){var r=os[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ht!==null&&Fr(Ht,t),Kt!==null&&Fr(Kt,t),Gt!==null&&Fr(Gt,t),gi.forEach(e),_i.forEach(e),n=0;n<zt.length;n++)r=zt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)op(n),n.blockedOn===null&&zt.shift()}var lr=Dt.ReactCurrentBatchConfig,Ls=!0;function T_(t,e,n,r){var i=$,s=lr.transition;lr.transition=null;try{$=1,Cc(t,e,n,r)}finally{$=i,lr.transition=s}}function R_(t,e,n,r){var i=$,s=lr.transition;lr.transition=null;try{$=4,Cc(t,e,n,r)}finally{$=i,lr.transition=s}}function Cc(t,e,n,r){if(Ls){var i=ca(t,e,n,r);if(i===null)vl(t,e,r,Fs,n),ud(t,r);else if(N_(i,t,e,n,r))r.stopPropagation();else if(ud(t,r),e&4&&-1<k_.indexOf(t)){for(;i!==null;){var s=Wi(i);if(s!==null&&np(s),s=ca(t,e,n,r),s===null&&vl(t,e,r,Fs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vl(t,e,r,null,n)}}var Fs=null;function ca(t,e,n,r){if(Fs=null,t=_c(r),t=vn(t),t!==null)if(e=zn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fs=t,null}function lp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case vc:return 1;case Jf:return 4;case Ms:case __:return 16;case Zf:return 536870912;default:return 16}default:return 16}}var $t=null,Ec=null,Ss=null;function ap(){if(Ss)return Ss;var t,e=Ec,n=e.length,r,i="value"in $t?$t.value:$t.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ss=i.slice(t,1<r?1-r:void 0)}function xs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function hd(){return!1}function Ve(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ls:hd,this.isPropagationStopped=hd,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),e}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sc=Ve(Ir),Vi=Z({},Ir,{view:0,detail:0}),P_=Ve(Vi),cl,ul,zr,So=Z({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zr&&(zr&&t.type==="mousemove"?(cl=t.screenX-zr.screenX,ul=t.screenY-zr.screenY):ul=cl=0,zr=t),cl)},movementY:function(t){return"movementY"in t?t.movementY:ul}}),fd=Ve(So),A_=Z({},So,{dataTransfer:0}),D_=Ve(A_),j_=Z({},Vi,{relatedTarget:0}),dl=Ve(j_),O_=Z({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),M_=Ve(O_),b_=Z({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L_=Ve(b_),F_=Z({},Ir,{data:0}),pd=Ve(F_),z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$_[t])?!!e[t]:!1}function xc(){return U_}var V_=Z({},Vi,{key:function(t){if(t.key){var e=z_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(t){return t.type==="keypress"?xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W_=Ve(V_),H_=Z({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=Ve(H_),K_=Z({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),G_=Ve(K_),Q_=Z({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y_=Ve(Q_),q_=Z({},So,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X_=Ve(q_),J_=[9,13,27,32],kc=kt&&"CompositionEvent"in window,ei=null;kt&&"documentMode"in document&&(ei=document.documentMode);var Z_=kt&&"TextEvent"in window&&!ei,cp=kt&&(!kc||ei&&8<ei&&11>=ei),gd=String.fromCharCode(32),_d=!1;function up(t,e){switch(t){case"keyup":return J_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function e0(t,e){switch(t){case"compositionend":return dp(e);case"keypress":return e.which!==32?null:(_d=!0,gd);case"textInput":return t=e.data,t===gd&&_d?null:t;default:return null}}function t0(t,e){if(Gn)return t==="compositionend"||!kc&&up(t,e)?(t=ap(),Ss=Ec=$t=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cp&&e.locale!=="ko"?null:e.data;default:return null}}var n0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n0[t.type]:e==="textarea"}function hp(t,e,n,r){Vf(r),e=zs(e,"onChange"),0<e.length&&(n=new Sc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ti=null,yi=null;function r0(t){Sp(t,0)}function xo(t){var e=qn(t);if(bf(e))return t}function i0(t,e){if(t==="change")return e}var fp=!1;if(kt){var hl;if(kt){var fl="oninput"in document;if(!fl){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),fl=typeof yd.oninput=="function"}hl=fl}else hl=!1;fp=hl&&(!document.documentMode||9<document.documentMode)}function wd(){ti&&(ti.detachEvent("onpropertychange",pp),yi=ti=null)}function pp(t){if(t.propertyName==="value"&&xo(yi)){var e=[];hp(e,yi,t,_c(t)),Gf(r0,e)}}function s0(t,e,n){t==="focusin"?(wd(),ti=e,yi=n,ti.attachEvent("onpropertychange",pp)):t==="focusout"&&wd()}function o0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(yi)}function l0(t,e){if(t==="click")return xo(e)}function a0(t,e){if(t==="input"||t==="change")return xo(e)}function c0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:c0;function wi(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hl.call(e,i)||!ct(t[i],e[i]))return!1}return!0}function Cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ed(t,e){var n=Cd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cd(n)}}function mp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gp(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ds(t.document)}return e}function Nc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function u0(t){var e=gp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mp(n.ownerDocument.documentElement,n)){if(r!==null&&Nc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ed(n,s);var o=Ed(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d0=kt&&"documentMode"in document&&11>=document.documentMode,Qn=null,ua=null,ni=null,da=!1;function Sd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;da||Qn==null||Qn!==Ds(r)||(r=Qn,"selectionStart"in r&&Nc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&wi(ni,r)||(ni=r,r=zs(ua,"onSelect"),0<r.length&&(e=new Sc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qn)))}function as(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yn={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},pl={},_p={};kt&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function ko(t){if(pl[t])return pl[t];if(!Yn[t])return t;var e=Yn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _p)return pl[t]=e[n];return t}var vp=ko("animationend"),yp=ko("animationiteration"),wp=ko("animationstart"),Cp=ko("transitionend"),Ep=new Map,xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(t,e){Ep.set(t,e),Fn(e,[t])}for(var ml=0;ml<xd.length;ml++){var gl=xd[ml],h0=gl.toLowerCase(),f0=gl[0].toUpperCase()+gl.slice(1);cn(h0,"on"+f0)}cn(vp,"onAnimationEnd");cn(yp,"onAnimationIteration");cn(wp,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Cp,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p0=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function kd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h_(r,e,void 0,t),t.currentTarget=null}function Sp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;kd(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;kd(i,l,c),s=a}}}if(Os)throw t=oa,Os=!1,oa=null,t}function G(t,e){var n=e[ga];n===void 0&&(n=e[ga]=new Set);var r=t+"__bubble";n.has(r)||(xp(e,t,2,!1),n.add(r))}function _l(t,e,n){var r=0;e&&(r|=4),xp(n,t,r,e)}var cs="_reactListening"+Math.random().toString(36).slice(2);function Ci(t){if(!t[cs]){t[cs]=!0,Af.forEach(function(n){n!=="selectionchange"&&(p0.has(n)||_l(n,!1,t),_l(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cs]||(e[cs]=!0,_l("selectionchange",!1,e))}}function xp(t,e,n,r){switch(lp(e)){case 1:var i=T_;break;case 4:i=R_;break;default:i=Cc}n=i.bind(null,e,n,t),i=void 0,!sa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=vn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Gf(function(){var c=s,d=_c(n),f=[];e:{var h=Ep.get(t);if(h!==void 0){var _=Sc,v=t;switch(t){case"keypress":if(xs(n)===0)break e;case"keydown":case"keyup":_=W_;break;case"focusin":v="focus",_=dl;break;case"focusout":v="blur",_=dl;break;case"beforeblur":case"afterblur":_=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=D_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=G_;break;case vp:case yp:case wp:_=M_;break;case Cp:_=Y_;break;case"scroll":_=P_;break;case"wheel":_=X_;break;case"copy":case"cut":case"paste":_=L_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=md}var y=(e&4)!==0,R=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var p=c,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=mi(p,m),w!=null&&y.push(Ei(p,w,g)))),R)break;p=p.return}0<y.length&&(h=new _(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",h&&n!==ra&&(v=n.relatedTarget||n.fromElement)&&(vn(v)||v[Nt]))break e;if((_||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=c,v=v?vn(v):null,v!==null&&(R=zn(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=c),_!==v)){if(y=fd,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=md,w="onPointerLeave",m="onPointerEnter",p="pointer"),R=_==null?h:qn(_),g=v==null?h:qn(v),h=new y(w,p+"leave",_,n,d),h.target=R,h.relatedTarget=g,w=null,vn(d)===c&&(y=new y(m,p+"enter",v,n,d),y.target=g,y.relatedTarget=R,w=y),R=w,_&&v)t:{for(y=_,m=v,p=0,g=y;g;g=Vn(g))p++;for(g=0,w=m;w;w=Vn(w))g++;for(;0<p-g;)y=Vn(y),p--;for(;0<g-p;)m=Vn(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=Vn(y),m=Vn(m)}y=null}else y=null;_!==null&&Nd(f,h,_,y,!1),v!==null&&R!==null&&Nd(f,R,v,y,!0)}}e:{if(h=c?qn(c):window,_=h.nodeName&&h.nodeName.toLowerCase(),_==="select"||_==="input"&&h.type==="file")var S=i0;else if(vd(h))if(fp)S=a0;else{S=o0;var I=s0}else(_=h.nodeName)&&_.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=l0);if(S&&(S=S(t,c))){hp(f,S,n,d);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Jl(h,"number",h.value)}switch(I=c?qn(c):window,t){case"focusin":(vd(I)||I.contentEditable==="true")&&(Qn=I,ua=c,ni=null);break;case"focusout":ni=ua=Qn=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,Sd(f,n,d);break;case"selectionchange":if(d0)break;case"keydown":case"keyup":Sd(f,n,d)}var N;if(kc)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Gn?up(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(cp&&n.locale!=="ko"&&(Gn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Gn&&(N=ap()):($t=d,Ec="value"in $t?$t.value:$t.textContent,Gn=!0)),I=zs(c,T),0<I.length&&(T=new pd(T,t,null,n,d),f.push({event:T,listeners:I}),N?T.data=N:(N=dp(n),N!==null&&(T.data=N)))),(N=Z_?e0(t,n):t0(t,n))&&(c=zs(c,"onBeforeInput"),0<c.length&&(d=new pd("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=N))}Sp(f,e)})}function Ei(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mi(t,n),s!=null&&r.unshift(Ei(t,s,i)),s=mi(t,e),s!=null&&r.push(Ei(t,s,i))),t=t.return}return r}function Vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nd(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=mi(n,s),a!=null&&o.unshift(Ei(n,a,l))):i||(a=mi(n,s),a!=null&&o.push(Ei(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var m0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function Id(t){return(typeof t=="string"?t:""+t).replace(m0,`
`).replace(g0,"")}function us(t,e,n){if(e=Id(e),Id(t)!==e&&n)throw Error(C(425))}function Bs(){}var ha=null,fa=null;function pa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ma=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(t){return Td.resolve(null).then(t).catch(y0)}:ma;function y0(t){setTimeout(function(){throw t})}function yl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vi(e)}function Qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),ft="__reactFiber$"+Tr,Si="__reactProps$"+Tr,Nt="__reactContainer$"+Tr,ga="__reactEvents$"+Tr,w0="__reactListeners$"+Tr,C0="__reactHandles$"+Tr;function vn(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nt]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rd(t);t!==null;){if(n=t[ft])return n;t=Rd(t)}return e}t=n,n=t.parentNode}return null}function Wi(t){return t=t[ft]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function No(t){return t[Si]||null}var _a=[],Xn=-1;function un(t){return{current:t}}function Q(t){0>Xn||(t.current=_a[Xn],_a[Xn]=null,Xn--)}function K(t,e){Xn++,_a[Xn]=t.current,t.current=e}var rn={},Se=un(rn),je=un(!1),In=rn;function pr(t,e){var n=t.type.contextTypes;if(!n)return rn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Oe(t){return t=t.childContextTypes,t!=null}function $s(){Q(je),Q(Se)}function Pd(t,e,n){if(Se.current!==rn)throw Error(C(168));K(Se,e),K(je,n)}function kp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(C(108,s_(t)||"Unknown",i));return Z({},n,r)}function Us(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rn,In=Se.current,K(Se,t),K(je,je.current),!0}function Ad(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=kp(t,e,In),r.__reactInternalMemoizedMergedChildContext=t,Q(je),Q(Se),K(Se,t)):Q(je),K(je,n)}var yt=null,Io=!1,wl=!1;function Np(t){yt===null?yt=[t]:yt.push(t)}function E0(t){Io=!0,Np(t)}function dn(){if(!wl&&yt!==null){wl=!0;var t=0,e=$;try{var n=yt;for($=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yt=null,Io=!1}catch(i){throw yt!==null&&(yt=yt.slice(t+1)),Xf(vc,dn),i}finally{$=e,wl=!1}}return null}var Jn=[],Zn=0,Vs=null,Ws=0,He=[],Ke=0,Tn=null,wt=1,Ct="";function pn(t,e){Jn[Zn++]=Ws,Jn[Zn++]=Vs,Vs=t,Ws=e}function Ip(t,e,n){He[Ke++]=wt,He[Ke++]=Ct,He[Ke++]=Tn,Tn=t;var r=wt;t=Ct;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wt=1<<32-ot(e)+i|n<<i|r,Ct=s+t}else wt=1<<s|n<<i|r,Ct=t}function Ic(t){t.return!==null&&(pn(t,1),Ip(t,1,0))}function Tc(t){for(;t===Vs;)Vs=Jn[--Zn],Jn[Zn]=null,Ws=Jn[--Zn],Jn[Zn]=null;for(;t===Tn;)Tn=He[--Ke],He[Ke]=null,Ct=He[--Ke],He[Ke]=null,wt=He[--Ke],He[Ke]=null}var ze=null,Fe=null,Y=!1,rt=null;function Tp(t,e){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ze=t,Fe=Qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ze=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tn!==null?{id:wt,overflow:Ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ze=t,Fe=null,!0):!1;default:return!1}}function va(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ya(t){if(Y){var e=Fe;if(e){var n=e;if(!Dd(t,e)){if(va(t))throw Error(C(418));e=Qt(n.nextSibling);var r=ze;e&&Dd(t,e)?Tp(r,n):(t.flags=t.flags&-4097|2,Y=!1,ze=t)}}else{if(va(t))throw Error(C(418));t.flags=t.flags&-4097|2,Y=!1,ze=t}}}function jd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ze=t}function ds(t){if(t!==ze)return!1;if(!Y)return jd(t),Y=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pa(t.type,t.memoizedProps)),e&&(e=Fe)){if(va(t))throw Rp(),Error(C(418));for(;e;)Tp(t,e),e=Qt(e.nextSibling)}if(jd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fe=Qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=ze?Qt(t.stateNode.nextSibling):null;return!0}function Rp(){for(var t=Fe;t;)t=Qt(t.nextSibling)}function mr(){Fe=ze=null,Y=!1}function Rc(t){rt===null?rt=[t]:rt.push(t)}var S0=Dt.ReactCurrentBatchConfig;function Br(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function hs(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Od(t){var e=t._init;return e(t._payload)}function Pp(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Jt(m,p),m.index=0,m.sibling=null,m}function s(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,w){return p===null||p.tag!==6?(p=Il(g,m.mode,w),p.return=m,p):(p=i(p,g),p.return=m,p)}function a(m,p,g,w){var S=g.type;return S===Kn?d(m,p,g.props.children,w,g.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bt&&Od(S)===p.type)?(w=i(p,g.props),w.ref=Br(m,p,g),w.return=m,w):(w=As(g.type,g.key,g.props,null,m.mode,w),w.ref=Br(m,p,g),w.return=m,w)}function c(m,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Tl(g,m.mode,w),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function d(m,p,g,w,S){return p===null||p.tag!==7?(p=xn(g,m.mode,w,S),p.return=m,p):(p=i(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Il(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ts:return g=As(p.type,p.key,p.props,null,m.mode,g),g.ref=Br(m,null,p),g.return=m,g;case Hn:return p=Tl(p,m.mode,g),p.return=m,p;case bt:var w=p._init;return f(m,w(p._payload),g)}if(Qr(p)||Mr(p))return p=xn(p,m.mode,g,null),p.return=m,p;hs(m,p)}return null}function h(m,p,g,w){var S=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(m,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ts:return g.key===S?a(m,p,g,w):null;case Hn:return g.key===S?c(m,p,g,w):null;case bt:return S=g._init,h(m,p,S(g._payload),w)}if(Qr(g)||Mr(g))return S!==null?null:d(m,p,g,w,null);hs(m,g)}return null}function _(m,p,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(p,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ts:return m=m.get(w.key===null?g:w.key)||null,a(p,m,w,S);case Hn:return m=m.get(w.key===null?g:w.key)||null,c(p,m,w,S);case bt:var I=w._init;return _(m,p,g,I(w._payload),S)}if(Qr(w)||Mr(w))return m=m.get(g)||null,d(p,m,w,S,null);hs(p,w)}return null}function v(m,p,g,w){for(var S=null,I=null,N=p,T=p=0,ne=null;N!==null&&T<g.length;T++){N.index>T?(ne=N,N=null):ne=N.sibling;var L=h(m,N,g[T],w);if(L===null){N===null&&(N=ne);break}t&&N&&L.alternate===null&&e(m,N),p=s(L,p,T),I===null?S=L:I.sibling=L,I=L,N=ne}if(T===g.length)return n(m,N),Y&&pn(m,T),S;if(N===null){for(;T<g.length;T++)N=f(m,g[T],w),N!==null&&(p=s(N,p,T),I===null?S=N:I.sibling=N,I=N);return Y&&pn(m,T),S}for(N=r(m,N);T<g.length;T++)ne=_(N,m,T,g[T],w),ne!==null&&(t&&ne.alternate!==null&&N.delete(ne.key===null?T:ne.key),p=s(ne,p,T),I===null?S=ne:I.sibling=ne,I=ne);return t&&N.forEach(function(Je){return e(m,Je)}),Y&&pn(m,T),S}function y(m,p,g,w){var S=Mr(g);if(typeof S!="function")throw Error(C(150));if(g=S.call(g),g==null)throw Error(C(151));for(var I=S=null,N=p,T=p=0,ne=null,L=g.next();N!==null&&!L.done;T++,L=g.next()){N.index>T?(ne=N,N=null):ne=N.sibling;var Je=h(m,N,L.value,w);if(Je===null){N===null&&(N=ne);break}t&&N&&Je.alternate===null&&e(m,N),p=s(Je,p,T),I===null?S=Je:I.sibling=Je,I=Je,N=ne}if(L.done)return n(m,N),Y&&pn(m,T),S;if(N===null){for(;!L.done;T++,L=g.next())L=f(m,L.value,w),L!==null&&(p=s(L,p,T),I===null?S=L:I.sibling=L,I=L);return Y&&pn(m,T),S}for(N=r(m,N);!L.done;T++,L=g.next())L=_(N,m,T,L.value,w),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?T:L.key),p=s(L,p,T),I===null?S=L:I.sibling=L,I=L);return t&&N.forEach(function(jr){return e(m,jr)}),Y&&pn(m,T),S}function R(m,p,g,w){if(typeof g=="object"&&g!==null&&g.type===Kn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ts:e:{for(var S=g.key,I=p;I!==null;){if(I.key===S){if(S=g.type,S===Kn){if(I.tag===7){n(m,I.sibling),p=i(I,g.props.children),p.return=m,m=p;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bt&&Od(S)===I.type){n(m,I.sibling),p=i(I,g.props),p.ref=Br(m,I,g),p.return=m,m=p;break e}n(m,I);break}else e(m,I);I=I.sibling}g.type===Kn?(p=xn(g.props.children,m.mode,w,g.key),p.return=m,m=p):(w=As(g.type,g.key,g.props,null,m.mode,w),w.ref=Br(m,p,g),w.return=m,m=w)}return o(m);case Hn:e:{for(I=g.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Tl(g,m.mode,w),p.return=m,m=p}return o(m);case bt:return I=g._init,R(m,p,I(g._payload),w)}if(Qr(g))return v(m,p,g,w);if(Mr(g))return y(m,p,g,w);hs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,g),p.return=m,m=p):(n(m,p),p=Il(g,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return R}var gr=Pp(!0),Ap=Pp(!1),Hs=un(null),Ks=null,er=null,Pc=null;function Ac(){Pc=er=Ks=null}function Dc(t){var e=Hs.current;Q(Hs),t._currentValue=e}function wa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ar(t,e){Ks=t,Pc=er=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function qe(t){var e=t._currentValue;if(Pc!==t)if(t={context:t,memoizedValue:e,next:null},er===null){if(Ks===null)throw Error(C(308));er=t,Ks.dependencies={lanes:0,firstContext:t}}else er=er.next=t;return e}var yn=null;function jc(t){yn===null?yn=[t]:yn.push(t)}function Dp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jc(e)):(n.next=i.next,i.next=n),e.interleaved=n,It(t,r)}function It(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lt=!1;function Oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function St(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,It(t,n)}return i=r.interleaved,i===null?(e.next=e,jc(r)):(e.next=i.next,i.next=e),r.interleaved=e,It(t,n)}function ks(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yc(t,n)}}function Md(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gs(t,e,n,r){var i=t.updateQueue;Lt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,d=c=a=null,l=s;do{var h=l.lane,_=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(h=e,_=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(_,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(_,f,h):v,h==null)break e;f=Z({},f,h);break e;case 2:Lt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else _={eventTime:_,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,a=f):d=d.next=_,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(a=f),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pn|=o,t.lanes=o,t.memoizedState=f}}function bd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var Hi={},mt=un(Hi),xi=un(Hi),ki=un(Hi);function wn(t){if(t===Hi)throw Error(C(174));return t}function Mc(t,e){switch(K(ki,e),K(xi,t),K(mt,Hi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ea(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ea(e,t)}Q(mt),K(mt,e)}function _r(){Q(mt),Q(xi),Q(ki)}function Op(t){wn(ki.current);var e=wn(mt.current),n=ea(e,t.type);e!==n&&(K(xi,t),K(mt,n))}function bc(t){xi.current===t&&(Q(mt),Q(xi))}var q=un(0);function Qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cl=[];function Lc(){for(var t=0;t<Cl.length;t++)Cl[t]._workInProgressVersionPrimary=null;Cl.length=0}var Ns=Dt.ReactCurrentDispatcher,El=Dt.ReactCurrentBatchConfig,Rn=0,J=null,oe=null,ue=null,Ys=!1,ri=!1,Ni=0,x0=0;function we(){throw Error(C(321))}function Fc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function zc(t,e,n,r,i,s){if(Rn=s,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ns.current=t===null||t.memoizedState===null?T0:R0,t=n(r,i),ri){s=0;do{if(ri=!1,Ni=0,25<=s)throw Error(C(301));s+=1,ue=oe=null,e.updateQueue=null,Ns.current=P0,t=n(r,i)}while(ri)}if(Ns.current=qs,e=oe!==null&&oe.next!==null,Rn=0,ue=oe=J=null,Ys=!1,e)throw Error(C(300));return t}function Bc(){var t=Ni!==0;return Ni=0,t}function ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?J.memoizedState=ue=t:ue=ue.next=t,ue}function Xe(){if(oe===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ue===null?J.memoizedState:ue.next;if(e!==null)ue=e,oe=t;else{if(t===null)throw Error(C(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?J.memoizedState=ue=t:ue=ue.next=t}return ue}function Ii(t,e){return typeof e=="function"?e(t):e}function Sl(t){var e=Xe(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=oe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var d=c.lane;if((Rn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,J.lanes|=d,Pn|=d}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,ct(r,e.memoizedState)||(Pe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,J.lanes|=s,Pn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xl(t){var e=Xe(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ct(s,e.memoizedState)||(Pe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Mp(){}function bp(t,e){var n=J,r=Xe(),i=e(),s=!ct(r.memoizedState,i);if(s&&(r.memoizedState=i,Pe=!0),r=r.queue,$c(zp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Ti(9,Fp.bind(null,n,r,i,e),void 0,null),pe===null)throw Error(C(349));Rn&30||Lp(n,e,i)}return i}function Lp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fp(t,e,n,r){e.value=n,e.getSnapshot=r,Bp(e)&&$p(t)}function zp(t,e,n){return n(function(){Bp(e)&&$p(t)})}function Bp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function $p(t){var e=It(t,1);e!==null&&lt(e,t,1,-1)}function Ld(t){var e=ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},e.queue=t,t=t.dispatch=I0.bind(null,J,t),[e.memoizedState,t]}function Ti(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Up(){return Xe().memoizedState}function Is(t,e,n,r){var i=ht();J.flags|=t,i.memoizedState=Ti(1|e,n,void 0,r===void 0?null:r)}function To(t,e,n,r){var i=Xe();r=r===void 0?null:r;var s=void 0;if(oe!==null){var o=oe.memoizedState;if(s=o.destroy,r!==null&&Fc(r,o.deps)){i.memoizedState=Ti(e,n,s,r);return}}J.flags|=t,i.memoizedState=Ti(1|e,n,s,r)}function Fd(t,e){return Is(8390656,8,t,e)}function $c(t,e){return To(2048,8,t,e)}function Vp(t,e){return To(4,2,t,e)}function Wp(t,e){return To(4,4,t,e)}function Hp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kp(t,e,n){return n=n!=null?n.concat([t]):null,To(4,4,Hp.bind(null,e,t),n)}function Uc(){}function Gp(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qp(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yp(t,e,n){return Rn&21?(ct(n,e)||(n=ep(),J.lanes|=n,Pn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=n)}function k0(t,e){var n=$;$=n!==0&&4>n?n:4,t(!0);var r=El.transition;El.transition={};try{t(!1),e()}finally{$=n,El.transition=r}}function qp(){return Xe().memoizedState}function N0(t,e,n){var r=Xt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xp(t))Jp(e,n);else if(n=Dp(t,e,n,r),n!==null){var i=ke();lt(n,t,r,i),Zp(n,e,r)}}function I0(t,e,n){var r=Xt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xp(t))Jp(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,ct(l,o)){var a=e.interleaved;a===null?(i.next=i,jc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Dp(t,e,i,r),n!==null&&(i=ke(),lt(n,t,r,i),Zp(n,e,r))}}function Xp(t){var e=t.alternate;return t===J||e!==null&&e===J}function Jp(t,e){ri=Ys=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yc(t,n)}}var qs={readContext:qe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},T0={readContext:qe,useCallback:function(t,e){return ht().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:Fd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Is(4194308,4,Hp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Is(4194308,4,t,e)},useInsertionEffect:function(t,e){return Is(4,2,t,e)},useMemo:function(t,e){var n=ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=N0.bind(null,J,t),[r.memoizedState,t]},useRef:function(t){var e=ht();return t={current:t},e.memoizedState=t},useState:Ld,useDebugValue:Uc,useDeferredValue:function(t){return ht().memoizedState=t},useTransition:function(){var t=Ld(!1),e=t[0];return t=k0.bind(null,t[1]),ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=J,i=ht();if(Y){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),pe===null)throw Error(C(349));Rn&30||Lp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Fd(zp.bind(null,r,s,t),[t]),r.flags|=2048,Ti(9,Fp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ht(),e=pe.identifierPrefix;if(Y){var n=Ct,r=wt;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ni++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=x0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R0={readContext:qe,useCallback:Gp,useContext:qe,useEffect:$c,useImperativeHandle:Kp,useInsertionEffect:Vp,useLayoutEffect:Wp,useMemo:Qp,useReducer:Sl,useRef:Up,useState:function(){return Sl(Ii)},useDebugValue:Uc,useDeferredValue:function(t){var e=Xe();return Yp(e,oe.memoizedState,t)},useTransition:function(){var t=Sl(Ii)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Mp,useSyncExternalStore:bp,useId:qp,unstable_isNewReconciler:!1},P0={readContext:qe,useCallback:Gp,useContext:qe,useEffect:$c,useImperativeHandle:Kp,useInsertionEffect:Vp,useLayoutEffect:Wp,useMemo:Qp,useReducer:xl,useRef:Up,useState:function(){return xl(Ii)},useDebugValue:Uc,useDeferredValue:function(t){var e=Xe();return oe===null?e.memoizedState=t:Yp(e,oe.memoizedState,t)},useTransition:function(){var t=xl(Ii)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Mp,useSyncExternalStore:bp,useId:qp,unstable_isNewReconciler:!1};function et(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ca(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ro={isMounted:function(t){return(t=t._reactInternals)?zn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Xt(t),s=St(r,i);s.payload=e,n!=null&&(s.callback=n),e=Yt(t,s,i),e!==null&&(lt(e,t,i,r),ks(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Xt(t),s=St(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yt(t,s,i),e!==null&&(lt(e,t,i,r),ks(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Xt(t),i=St(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yt(t,i,r),e!==null&&(lt(e,t,r,n),ks(e,t,r))}};function zd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wi(n,r)||!wi(i,s):!0}function em(t,e,n){var r=!1,i=rn,s=e.contextType;return typeof s=="object"&&s!==null?s=qe(s):(i=Oe(e)?In:Se.current,r=e.contextTypes,s=(r=r!=null)?pr(t,i):rn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ro,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Bd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ro.enqueueReplaceState(e,e.state,null)}function Ea(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Oc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qe(s):(s=Oe(e)?In:Se.current,i.context=pr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ca(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ro.enqueueReplaceState(i,i.state,null),Gs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vr(t,e){try{var n="",r=e;do n+=i_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function kl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var A0=typeof WeakMap=="function"?WeakMap:Map;function tm(t,e,n){n=St(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Js||(Js=!0,ja=r),Sa(t,e)},n}function nm(t,e,n){n=St(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sa(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sa(t,e),typeof r!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $d(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new A0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=H0.bind(null,t,e,n),e.then(t,t))}function Ud(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=St(-1,1),e.tag=2,Yt(n,e,1))),n.lanes|=1),t)}var D0=Dt.ReactCurrentOwner,Pe=!1;function xe(t,e,n,r){e.child=t===null?Ap(e,null,n,r):gr(e,t.child,n,r)}function Wd(t,e,n,r,i){n=n.render;var s=e.ref;return ar(e,i),r=zc(t,e,n,r,s,i),n=Bc(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tt(t,e,i)):(Y&&n&&Ic(e),e.flags|=1,xe(t,e,r,i),e.child)}function Hd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rm(t,e,s,r,i)):(t=As(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wi,n(o,r)&&t.ref===e.ref)return Tt(t,e,i)}return e.flags|=1,t=Jt(s,r),t.ref=e.ref,t.return=e,e.child=t}function rm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wi(s,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,Tt(t,e,i)}return xa(t,e,n,r,i)}function im(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(nr,Le),Le|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(nr,Le),Le|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,K(nr,Le),Le|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,K(nr,Le),Le|=r;return xe(t,e,i,n),e.child}function sm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xa(t,e,n,r,i){var s=Oe(n)?In:Se.current;return s=pr(e,s),ar(e,i),n=zc(t,e,n,r,s,i),r=Bc(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tt(t,e,i)):(Y&&r&&Ic(e),e.flags|=1,xe(t,e,n,i),e.child)}function Kd(t,e,n,r,i){if(Oe(n)){var s=!0;Us(e)}else s=!1;if(ar(e,i),e.stateNode===null)Ts(t,e),em(e,n,r),Ea(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=Oe(n)?In:Se.current,c=pr(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Bd(e,o,r,c),Lt=!1;var h=e.memoizedState;o.state=h,Gs(e,r,o,i),a=e.memoizedState,l!==r||h!==a||je.current||Lt?(typeof d=="function"&&(Ca(e,n,d,r),a=e.memoizedState),(l=Lt||zd(e,n,l,r,h,a,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jp(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:et(e.type,l),o.props=c,f=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=qe(a):(a=Oe(n)?In:Se.current,a=pr(e,a));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==a)&&Bd(e,o,r,a),Lt=!1,h=e.memoizedState,o.state=h,Gs(e,r,o,i);var v=e.memoizedState;l!==f||h!==v||je.current||Lt?(typeof _=="function"&&(Ca(e,n,_,r),v=e.memoizedState),(c=Lt||zd(e,n,c,r,h,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return ka(t,e,n,r,s,i)}function ka(t,e,n,r,i,s){sm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ad(e,n,!1),Tt(t,e,s);r=e.stateNode,D0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gr(e,t.child,null,s),e.child=gr(e,null,l,s)):xe(t,e,l,s),e.memoizedState=r.state,i&&Ad(e,n,!0),e.child}function om(t){var e=t.stateNode;e.pendingContext?Pd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pd(t,e.context,!1),Mc(t,e.containerInfo)}function Gd(t,e,n,r,i){return mr(),Rc(i),e.flags|=256,xe(t,e,n,r),e.child}var Na={dehydrated:null,treeContext:null,retryLane:0};function Ia(t){return{baseLanes:t,cachePool:null,transitions:null}}function lm(t,e,n){var r=e.pendingProps,i=q.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),K(q,i&1),t===null)return ya(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Do(o,r,0,null),t=xn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ia(n),e.memoizedState=Na,t):Vc(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return j0(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Jt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Jt(l,s):(s=xn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ia(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Na,r}return s=t.child,t=s.sibling,r=Jt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vc(t,e){return e=Do({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fs(t,e,n,r){return r!==null&&Rc(r),gr(e,t.child,null,n),t=Vc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=kl(Error(C(422))),fs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Do({mode:"visible",children:r.children},i,0,null),s=xn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&gr(e,t.child,null,o),e.child.memoizedState=Ia(o),e.memoizedState=Na,s);if(!(e.mode&1))return fs(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(C(419)),r=kl(s,r,void 0),fs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Pe||l){if(r=pe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,It(t,i),lt(r,t,i,-1))}return Yc(),r=kl(Error(C(421))),fs(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K0.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fe=Qt(i.nextSibling),ze=e,Y=!0,rt=null,t!==null&&(He[Ke++]=wt,He[Ke++]=Ct,He[Ke++]=Tn,wt=t.id,Ct=t.overflow,Tn=e),e=Vc(e,r.children),e.flags|=4096,e)}function Qd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wa(t.return,e,n)}function Nl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function am(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xe(t,e,r.children,n),r=q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qd(t,n,e);else if(t.tag===19)Qd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(q,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nl(e,!0,n,null,s);break;case"together":Nl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ts(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=Jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O0(t,e,n){switch(e.tag){case 3:om(e),mr();break;case 5:Op(e);break;case 1:Oe(e.type)&&Us(e);break;case 4:Mc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;K(Hs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(q,q.current&1),e.flags|=128,null):n&e.child.childLanes?lm(t,e,n):(K(q,q.current&1),t=Tt(t,e,n),t!==null?t.sibling:null);K(q,q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return am(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(q,q.current),r)break;return null;case 22:case 23:return e.lanes=0,im(t,e,n)}return Tt(t,e,n)}var cm,Ta,um,dm;cm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ta=function(){};um=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,wn(mt.current);var s=null;switch(n){case"input":i=ql(t,i),r=ql(t,r),s=[];break;case"select":i=Z({},i,{value:void 0}),r=Z({},r,{value:void 0}),s=[];break;case"textarea":i=Zl(t,i),r=Zl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bs)}ta(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(fi.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(fi.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&G("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dm=function(t,e,n,r){n!==r&&(e.flags|=4)};function $r(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M0(t,e,n){var r=e.pendingProps;switch(Tc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Oe(e.type)&&$s(),Ce(e),null;case 3:return r=e.stateNode,_r(),Q(je),Q(Se),Lc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ds(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(ba(rt),rt=null))),Ta(t,e),Ce(e),null;case 5:bc(e);var i=wn(ki.current);if(n=e.type,t!==null&&e.stateNode!=null)um(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return Ce(e),null}if(t=wn(mt.current),ds(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ft]=e,r[Si]=s,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(i=0;i<qr.length;i++)G(qr[i],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":rd(r,s),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},G("invalid",r);break;case"textarea":sd(r,s),G("invalid",r)}ta(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&us(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&us(r.textContent,l,t),i=["children",""+l]):fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":ns(r),id(r,s,!0);break;case"textarea":ns(r),od(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ft]=e,t[Si]=r,cm(t,e,!1,!1),e.stateNode=t;e:{switch(o=na(n,r),n){case"dialog":G("cancel",t),G("close",t),i=r;break;case"iframe":case"object":case"embed":G("load",t),i=r;break;case"video":case"audio":for(i=0;i<qr.length;i++)G(qr[i],t);i=r;break;case"source":G("error",t),i=r;break;case"img":case"image":case"link":G("error",t),G("load",t),i=r;break;case"details":G("toggle",t),i=r;break;case"input":rd(t,r),i=ql(t,r),G("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Z({},r,{value:void 0}),G("invalid",t);break;case"textarea":sd(t,r),i=Zl(t,r),G("invalid",t);break;default:i=r}ta(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Uf(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Bf(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&pi(t,a):typeof a=="number"&&pi(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&G("scroll",t):a!=null&&fc(t,s,a,o))}switch(n){case"input":ns(t),id(t,r,!1);break;case"textarea":ns(t),od(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ir(t,!!r.multiple,s,!1):r.defaultValue!=null&&ir(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)dm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=wn(ki.current),wn(mt.current),ds(e)){if(r=e.stateNode,n=e.memoizedProps,r[ft]=e,(s=r.nodeValue!==n)&&(t=ze,t!==null))switch(t.tag){case 3:us(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=e,e.stateNode=r}return Ce(e),null;case 13:if(Q(q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Y&&Fe!==null&&e.mode&1&&!(e.flags&128))Rp(),mr(),e.flags|=98560,s=!1;else if(s=ds(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(C(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[ft]=e}else mr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),s=!1}else rt!==null&&(ba(rt),rt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||q.current&1?le===0&&(le=3):Yc())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return _r(),Ta(t,e),t===null&&Ci(e.stateNode.containerInfo),Ce(e),null;case 10:return Dc(e.type._context),Ce(e),null;case 17:return Oe(e.type)&&$s(),Ce(e),null;case 19:if(Q(q),s=e.memoizedState,s===null)return Ce(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$r(s,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qs(t),o!==null){for(e.flags|=128,$r(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(q,q.current&1|2),e.child}t=t.sibling}s.tail!==null&&ie()>yr&&(e.flags|=128,r=!0,$r(s,!1),e.lanes=4194304)}else{if(!r)if(t=Qs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$r(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Y)return Ce(e),null}else 2*ie()-s.renderingStartTime>yr&&n!==1073741824&&(e.flags|=128,r=!0,$r(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ie(),e.sibling=null,n=q.current,K(q,r?n&1|2:n&1),e):(Ce(e),null);case 22:case 23:return Qc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Le&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function b0(t,e){switch(Tc(e),e.tag){case 1:return Oe(e.type)&&$s(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _r(),Q(je),Q(Se),Lc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bc(e),null;case 13:if(Q(q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));mr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Q(q),null;case 4:return _r(),null;case 10:return Dc(e.type._context),null;case 22:case 23:return Qc(),null;case 24:return null;default:return null}}var ps=!1,Ee=!1,L0=typeof WeakSet=="function"?WeakSet:Set,x=null;function tr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(t,e,r)}else n.current=null}function Ra(t,e,n){try{n()}catch(r){ee(t,e,r)}}var Yd=!1;function F0(t,e){if(ha=Ls,t=gp(),Nc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)h=f,f=_;for(;;){if(f===t)break t;if(h===n&&++c===i&&(l=o),h===s&&++d===r&&(a=o),(_=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=_}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(fa={focusedElem:t,selectionRange:n},Ls=!1,x=e;x!==null;)if(e=x,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,x=t;else for(;x!==null;){e=x;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,R=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:et(e.type,y),R);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){ee(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,x=t;break}x=e.return}return v=Yd,Yd=!1,v}function ii(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ra(e,n,s)}i=i.next}while(i!==r)}}function Po(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hm(t){var e=t.alternate;e!==null&&(t.alternate=null,hm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ft],delete e[Si],delete e[ga],delete e[w0],delete e[C0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fm(t){return t.tag===5||t.tag===3||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Aa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bs));else if(r!==4&&(t=t.child,t!==null))for(Aa(t,e,n),t=t.sibling;t!==null;)Aa(t,e,n),t=t.sibling}function Da(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Da(t,e,n),t=t.sibling;t!==null;)Da(t,e,n),t=t.sibling}var me=null,nt=!1;function Mt(t,e,n){for(n=n.child;n!==null;)pm(t,e,n),n=n.sibling}function pm(t,e,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Eo,n)}catch{}switch(n.tag){case 5:Ee||tr(n,e);case 6:var r=me,i=nt;me=null,Mt(t,e,n),me=r,nt=i,me!==null&&(nt?(t=me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(nt?(t=me,n=n.stateNode,t.nodeType===8?yl(t.parentNode,n):t.nodeType===1&&yl(t,n),vi(t)):yl(me,n.stateNode));break;case 4:r=me,i=nt,me=n.stateNode.containerInfo,nt=!0,Mt(t,e,n),me=r,nt=i;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ra(n,e,o),i=i.next}while(i!==r)}Mt(t,e,n);break;case 1:if(!Ee&&(tr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ee(n,e,l)}Mt(t,e,n);break;case 21:Mt(t,e,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,Mt(t,e,n),Ee=r):Mt(t,e,n);break;default:Mt(t,e,n)}}function Xd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L0),e.forEach(function(r){var i=G0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:me=l.stateNode,nt=!1;break e;case 3:me=l.stateNode.containerInfo,nt=!0;break e;case 4:me=l.stateNode.containerInfo,nt=!0;break e}l=l.return}if(me===null)throw Error(C(160));pm(s,o,i),me=null,nt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ee(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mm(e,t),e=e.sibling}function mm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),dt(t),r&4){try{ii(3,t,t.return),Po(3,t)}catch(y){ee(t,t.return,y)}try{ii(5,t,t.return)}catch(y){ee(t,t.return,y)}}break;case 1:Ze(e,t),dt(t),r&512&&n!==null&&tr(n,n.return);break;case 5:if(Ze(e,t),dt(t),r&512&&n!==null&&tr(n,n.return),t.flags&32){var i=t.stateNode;try{pi(i,"")}catch(y){ee(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Lf(i,s),na(l,o);var c=na(l,s);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?Uf(i,f):d==="dangerouslySetInnerHTML"?Bf(i,f):d==="children"?pi(i,f):fc(i,d,f,c)}switch(l){case"input":Xl(i,s);break;case"textarea":Ff(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?ir(i,!!s.multiple,_,!1):h!==!!s.multiple&&(s.defaultValue!=null?ir(i,!!s.multiple,s.defaultValue,!0):ir(i,!!s.multiple,s.multiple?[]:"",!1))}i[Si]=s}catch(y){ee(t,t.return,y)}}break;case 6:if(Ze(e,t),dt(t),r&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){ee(t,t.return,y)}}break;case 3:if(Ze(e,t),dt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(e.containerInfo)}catch(y){ee(t,t.return,y)}break;case 4:Ze(e,t),dt(t);break;case 13:Ze(e,t),dt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Kc=ie())),r&4&&Xd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ee=(c=Ee)||d,Ze(e,t),Ee=c):Ze(e,t),dt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(x=t,d=t.child;d!==null;){for(f=x=d;x!==null;){switch(h=x,_=h.child,h.tag){case 0:case 11:case 14:case 15:ii(4,h,h.return);break;case 1:tr(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ee(r,n,y)}}break;case 5:tr(h,h.return);break;case 22:if(h.memoizedState!==null){Zd(f);continue}}_!==null?(_.return=h,x=_):Zd(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=$f("display",o))}catch(y){ee(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){ee(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ze(e,t),dt(t),r&4&&Xd(t);break;case 21:break;default:Ze(e,t),dt(t)}}function dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fm(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pi(i,""),r.flags&=-33);var s=qd(t);Da(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=qd(t);Aa(t,l,o);break;default:throw Error(C(161))}}catch(a){ee(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z0(t,e,n){x=t,gm(t)}function gm(t,e,n){for(var r=(t.mode&1)!==0;x!==null;){var i=x,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ps;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ee;l=ps;var c=Ee;if(ps=o,(Ee=a)&&!c)for(x=i;x!==null;)o=x,a=o.child,o.tag===22&&o.memoizedState!==null?eh(i):a!==null?(a.return=o,x=a):eh(i);for(;s!==null;)x=s,gm(s),s=s.sibling;x=i,ps=l,Ee=c}Jd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,x=s):Jd(t)}}function Jd(t){for(;x!==null;){var e=x;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ee||Po(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:et(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ee||e.flags&512&&Pa(e)}catch(h){ee(e,e.return,h)}}if(e===t){x=null;break}if(n=e.sibling,n!==null){n.return=e.return,x=n;break}x=e.return}}function Zd(t){for(;x!==null;){var e=x;if(e===t){x=null;break}var n=e.sibling;if(n!==null){n.return=e.return,x=n;break}x=e.return}}function eh(t){for(;x!==null;){var e=x;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Po(4,e)}catch(a){ee(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ee(e,i,a)}}var s=e.return;try{Pa(e)}catch(a){ee(e,s,a)}break;case 5:var o=e.return;try{Pa(e)}catch(a){ee(e,o,a)}}}catch(a){ee(e,e.return,a)}if(e===t){x=null;break}var l=e.sibling;if(l!==null){l.return=e.return,x=l;break}x=e.return}}var B0=Math.ceil,Xs=Dt.ReactCurrentDispatcher,Wc=Dt.ReactCurrentOwner,Ye=Dt.ReactCurrentBatchConfig,F=0,pe=null,se=null,_e=0,Le=0,nr=un(0),le=0,Ri=null,Pn=0,Ao=0,Hc=0,si=null,Re=null,Kc=0,yr=1/0,vt=null,Js=!1,ja=null,qt=null,ms=!1,Ut=null,Zs=0,oi=0,Oa=null,Rs=-1,Ps=0;function ke(){return F&6?ie():Rs!==-1?Rs:Rs=ie()}function Xt(t){return t.mode&1?F&2&&_e!==0?_e&-_e:S0.transition!==null?(Ps===0&&(Ps=ep()),Ps):(t=$,t!==0||(t=window.event,t=t===void 0?16:lp(t.type)),t):1}function lt(t,e,n,r){if(50<oi)throw oi=0,Oa=null,Error(C(185));Ui(t,n,r),(!(F&2)||t!==pe)&&(t===pe&&(!(F&2)&&(Ao|=n),le===4&&Bt(t,_e)),Me(t,r),n===1&&F===0&&!(e.mode&1)&&(yr=ie()+500,Io&&dn()))}function Me(t,e){var n=t.callbackNode;S_(t,e);var r=bs(t,t===pe?_e:0);if(r===0)n!==null&&cd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cd(n),e===1)t.tag===0?E0(th.bind(null,t)):Np(th.bind(null,t)),v0(function(){!(F&6)&&dn()}),n=null;else{switch(tp(r)){case 1:n=vc;break;case 4:n=Jf;break;case 16:n=Ms;break;case 536870912:n=Zf;break;default:n=Ms}n=xm(n,_m.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _m(t,e){if(Rs=-1,Ps=0,F&6)throw Error(C(327));var n=t.callbackNode;if(cr()&&t.callbackNode!==n)return null;var r=bs(t,t===pe?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eo(t,r);else{e=r;var i=F;F|=2;var s=ym();(pe!==t||_e!==e)&&(vt=null,yr=ie()+500,Sn(t,e));do try{V0();break}catch(l){vm(t,l)}while(1);Ac(),Xs.current=s,F=i,se!==null?e=0:(pe=null,_e=0,e=le)}if(e!==0){if(e===2&&(i=la(t),i!==0&&(r=i,e=Ma(t,i))),e===1)throw n=Ri,Sn(t,0),Bt(t,r),Me(t,ie()),n;if(e===6)Bt(t,r);else{if(i=t.current.alternate,!(r&30)&&!$0(i)&&(e=eo(t,r),e===2&&(s=la(t),s!==0&&(r=s,e=Ma(t,s))),e===1))throw n=Ri,Sn(t,0),Bt(t,r),Me(t,ie()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:mn(t,Re,vt);break;case 3:if(Bt(t,r),(r&130023424)===r&&(e=Kc+500-ie(),10<e)){if(bs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ma(mn.bind(null,t,Re,vt),e);break}mn(t,Re,vt);break;case 4:if(Bt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ot(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B0(r/1960))-r,10<r){t.timeoutHandle=ma(mn.bind(null,t,Re,vt),r);break}mn(t,Re,vt);break;case 5:mn(t,Re,vt);break;default:throw Error(C(329))}}}return Me(t,ie()),t.callbackNode===n?_m.bind(null,t):null}function Ma(t,e){var n=si;return t.current.memoizedState.isDehydrated&&(Sn(t,e).flags|=256),t=eo(t,e),t!==2&&(e=Re,Re=n,e!==null&&ba(e)),t}function ba(t){Re===null?Re=t:Re.push.apply(Re,t)}function $0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ct(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bt(t,e){for(e&=~Hc,e&=~Ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ot(e),r=1<<n;t[n]=-1,e&=~r}}function th(t){if(F&6)throw Error(C(327));cr();var e=bs(t,0);if(!(e&1))return Me(t,ie()),null;var n=eo(t,e);if(t.tag!==0&&n===2){var r=la(t);r!==0&&(e=r,n=Ma(t,r))}if(n===1)throw n=Ri,Sn(t,0),Bt(t,e),Me(t,ie()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mn(t,Re,vt),Me(t,ie()),null}function Gc(t,e){var n=F;F|=1;try{return t(e)}finally{F=n,F===0&&(yr=ie()+500,Io&&dn())}}function An(t){Ut!==null&&Ut.tag===0&&!(F&6)&&cr();var e=F;F|=1;var n=Ye.transition,r=$;try{if(Ye.transition=null,$=1,t)return t()}finally{$=r,Ye.transition=n,F=e,!(F&6)&&dn()}}function Qc(){Le=nr.current,Q(nr)}function Sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_0(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(Tc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$s();break;case 3:_r(),Q(je),Q(Se),Lc();break;case 5:bc(r);break;case 4:_r();break;case 13:Q(q);break;case 19:Q(q);break;case 10:Dc(r.type._context);break;case 22:case 23:Qc()}n=n.return}if(pe=t,se=t=Jt(t.current,null),_e=Le=e,le=0,Ri=null,Hc=Ao=Pn=0,Re=si=null,yn!==null){for(e=0;e<yn.length;e++)if(n=yn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yn=null}return t}function vm(t,e){do{var n=se;try{if(Ac(),Ns.current=qs,Ys){for(var r=J.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ys=!1}if(Rn=0,ue=oe=J=null,ri=!1,Ni=0,Wc.current=null,n===null||n.return===null){le=1,Ri=e,se=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=_e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Ud(o);if(_!==null){_.flags&=-257,Vd(_,o,l,s,e),_.mode&1&&$d(s,c,e),e=_,a=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(a),e.updateQueue=y}else v.add(a);break e}else{if(!(e&1)){$d(s,c,e),Yc();break e}a=Error(C(426))}}else if(Y&&l.mode&1){var R=Ud(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Vd(R,o,l,s,e),Rc(vr(a,l));break e}}s=a=vr(a,l),le!==4&&(le=2),si===null?si=[s]:si.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=tm(s,a,e);Md(s,m);break e;case 1:l=a;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qt===null||!qt.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=nm(s,l,e);Md(s,w);break e}}s=s.return}while(s!==null)}Cm(n)}catch(S){e=S,se===n&&n!==null&&(se=n=n.return);continue}break}while(1)}function ym(){var t=Xs.current;return Xs.current=qs,t===null?qs:t}function Yc(){(le===0||le===3||le===2)&&(le=4),pe===null||!(Pn&268435455)&&!(Ao&268435455)||Bt(pe,_e)}function eo(t,e){var n=F;F|=2;var r=ym();(pe!==t||_e!==e)&&(vt=null,Sn(t,e));do try{U0();break}catch(i){vm(t,i)}while(1);if(Ac(),F=n,Xs.current=r,se!==null)throw Error(C(261));return pe=null,_e=0,le}function U0(){for(;se!==null;)wm(se)}function V0(){for(;se!==null&&!p_();)wm(se)}function wm(t){var e=Sm(t.alternate,t,Le);t.memoizedProps=t.pendingProps,e===null?Cm(t):se=e,Wc.current=null}function Cm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=b0(n,e),n!==null){n.flags&=32767,se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,se=null;return}}else if(n=M0(n,e,Le),n!==null){se=n;return}if(e=e.sibling,e!==null){se=e;return}se=e=t}while(e!==null);le===0&&(le=5)}function mn(t,e,n){var r=$,i=Ye.transition;try{Ye.transition=null,$=1,W0(t,e,n,r)}finally{Ye.transition=i,$=r}return null}function W0(t,e,n,r){do cr();while(Ut!==null);if(F&6)throw Error(C(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(x_(t,s),t===pe&&(se=pe=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ms||(ms=!0,xm(Ms,function(){return cr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ye.transition,Ye.transition=null;var o=$;$=1;var l=F;F|=4,Wc.current=null,F0(t,n),mm(n,t),u0(fa),Ls=!!ha,fa=ha=null,t.current=n,z0(n),m_(),F=l,$=o,Ye.transition=s}else t.current=n;if(ms&&(ms=!1,Ut=t,Zs=i),s=t.pendingLanes,s===0&&(qt=null),v_(n.stateNode),Me(t,ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Js)throw Js=!1,t=ja,ja=null,t;return Zs&1&&t.tag!==0&&cr(),s=t.pendingLanes,s&1?t===Oa?oi++:(oi=0,Oa=t):oi=0,dn(),null}function cr(){if(Ut!==null){var t=tp(Zs),e=Ye.transition,n=$;try{if(Ye.transition=null,$=16>t?16:t,Ut===null)var r=!1;else{if(t=Ut,Ut=null,Zs=0,F&6)throw Error(C(331));var i=F;for(F|=4,x=t.current;x!==null;){var s=x,o=s.child;if(x.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(x=c;x!==null;){var d=x;switch(d.tag){case 0:case 11:case 15:ii(8,d,s)}var f=d.child;if(f!==null)f.return=d,x=f;else for(;x!==null;){d=x;var h=d.sibling,_=d.return;if(hm(d),d===c){x=null;break}if(h!==null){h.return=_,x=h;break}x=_}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var R=y.sibling;y.sibling=null,y=R}while(y!==null)}}x=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,x=o;else e:for(;x!==null;){if(s=x,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ii(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,x=m;break e}x=s.return}}var p=t.current;for(x=p;x!==null;){o=x;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,x=g;else e:for(o=p;x!==null;){if(l=x,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Po(9,l)}}catch(S){ee(l,l.return,S)}if(l===o){x=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,x=w;break e}x=l.return}}if(F=i,dn(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Eo,t)}catch{}r=!0}return r}finally{$=n,Ye.transition=e}}return!1}function nh(t,e,n){e=vr(n,e),e=tm(t,e,1),t=Yt(t,e,1),e=ke(),t!==null&&(Ui(t,1,e),Me(t,e))}function ee(t,e,n){if(t.tag===3)nh(t,t,n);else for(;e!==null;){if(e.tag===3){nh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qt===null||!qt.has(r))){t=vr(n,t),t=nm(e,t,1),e=Yt(e,t,1),t=ke(),e!==null&&(Ui(e,1,t),Me(e,t));break}}e=e.return}}function H0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(_e&n)===n&&(le===4||le===3&&(_e&130023424)===_e&&500>ie()-Kc?Sn(t,0):Hc|=n),Me(t,e)}function Em(t,e){e===0&&(t.mode&1?(e=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):e=1);var n=ke();t=It(t,e),t!==null&&(Ui(t,e,n),Me(t,n))}function K0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Em(t,n)}function G0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Em(t,n)}var Sm;Sm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||je.current)Pe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pe=!1,O0(t,e,n);Pe=!!(t.flags&131072)}else Pe=!1,Y&&e.flags&1048576&&Ip(e,Ws,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ts(t,e),t=e.pendingProps;var i=pr(e,Se.current);ar(e,n),i=zc(null,e,r,t,i,n);var s=Bc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(r)?(s=!0,Us(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oc(e),i.updater=Ro,e.stateNode=i,i._reactInternals=e,Ea(e,r,t,n),e=ka(null,e,r,!0,s,n)):(e.tag=0,Y&&s&&Ic(e),xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ts(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Y0(r),t=et(r,t),i){case 0:e=xa(null,e,r,t,n);break e;case 1:e=Kd(null,e,r,t,n);break e;case 11:e=Wd(null,e,r,t,n);break e;case 14:e=Hd(null,e,r,et(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:et(r,i),xa(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:et(r,i),Kd(t,e,r,i,n);case 3:e:{if(om(e),t===null)throw Error(C(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jp(t,e),Gs(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vr(Error(C(423)),e),e=Gd(t,e,r,n,i);break e}else if(r!==i){i=vr(Error(C(424)),e),e=Gd(t,e,r,n,i);break e}else for(Fe=Qt(e.stateNode.containerInfo.firstChild),ze=e,Y=!0,rt=null,n=Ap(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===i){e=Tt(t,e,n);break e}xe(t,e,r,n)}e=e.child}return e;case 5:return Op(e),t===null&&ya(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,pa(r,i)?o=null:s!==null&&pa(r,s)&&(e.flags|=32),sm(t,e),xe(t,e,o,n),e.child;case 6:return t===null&&ya(e),null;case 13:return lm(t,e,n);case 4:return Mc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gr(e,null,r,n):xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:et(r,i),Wd(t,e,r,i,n);case 7:return xe(t,e,e.pendingProps,n),e.child;case 8:return xe(t,e,e.pendingProps.children,n),e.child;case 12:return xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,K(Hs,r._currentValue),r._currentValue=o,s!==null)if(ct(s.value,o)){if(s.children===i.children&&!je.current){e=Tt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=St(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wa(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wa(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ar(e,n),i=qe(i),r=r(i),e.flags|=1,xe(t,e,r,n),e.child;case 14:return r=e.type,i=et(r,e.pendingProps),i=et(r.type,i),Hd(t,e,r,i,n);case 15:return rm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:et(r,i),Ts(t,e),e.tag=1,Oe(r)?(t=!0,Us(e)):t=!1,ar(e,n),em(e,r,i),Ea(e,r,i,n),ka(null,e,r,!0,t,n);case 19:return am(t,e,n);case 22:return im(t,e,n)}throw Error(C(156,e.tag))};function xm(t,e){return Xf(t,e)}function Q0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,r){return new Q0(t,e,n,r)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y0(t){if(typeof t=="function")return qc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mc)return 11;if(t===gc)return 14}return 2}function Jt(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function As(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")qc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Kn:return xn(n.children,i,s,e);case pc:o=8,i|=8;break;case Kl:return t=Ge(12,n,e,i|2),t.elementType=Kl,t.lanes=s,t;case Gl:return t=Ge(13,n,e,i),t.elementType=Gl,t.lanes=s,t;case Ql:return t=Ge(19,n,e,i),t.elementType=Ql,t.lanes=s,t;case Of:return Do(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Df:o=10;break e;case jf:o=9;break e;case mc:o=11;break e;case gc:o=14;break e;case bt:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Ge(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function xn(t,e,n,r){return t=Ge(7,t,r,e),t.lanes=n,t}function Do(t,e,n,r){return t=Ge(22,t,r,e),t.elementType=Of,t.lanes=n,t.stateNode={isHidden:!1},t}function Il(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function Tl(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q0(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xc(t,e,n,r,i,s,o,l,a){return t=new q0(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ge(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oc(s),t}function X0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function km(t){if(!t)return rn;t=t._reactInternals;e:{if(zn(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Oe(n))return kp(t,n,e)}return e}function Nm(t,e,n,r,i,s,o,l,a){return t=Xc(n,r,!0,t,i,s,o,l,a),t.context=km(null),n=t.current,r=ke(),i=Xt(n),s=St(r,i),s.callback=e??null,Yt(n,s,i),t.current.lanes=i,Ui(t,i,r),Me(t,r),t}function jo(t,e,n,r){var i=e.current,s=ke(),o=Xt(i);return n=km(n),e.context===null?e.context=n:e.pendingContext=n,e=St(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yt(i,e,o),t!==null&&(lt(t,i,o,s),ks(t,i,o)),o}function to(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jc(t,e){rh(t,e),(t=t.alternate)&&rh(t,e)}function J0(){return null}var Im=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zc(t){this._internalRoot=t}Oo.prototype.render=Zc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));jo(t,e,null,null)};Oo.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;An(function(){jo(null,t,null,null)}),e[Nt]=null}};function Oo(t){this._internalRoot=t}Oo.prototype.unstable_scheduleHydration=function(t){if(t){var e=ip();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zt.length&&e!==0&&e<zt[n].priority;n++);zt.splice(n,0,t),n===0&&op(t)}};function eu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ih(){}function Z0(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=to(o);s.call(c)}}var o=Nm(e,r,t,0,null,!1,!1,"",ih);return t._reactRootContainer=o,t[Nt]=o.current,Ci(t.nodeType===8?t.parentNode:t),An(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=to(a);l.call(c)}}var a=Xc(t,0,!1,null,null,!1,!1,"",ih);return t._reactRootContainer=a,t[Nt]=a.current,Ci(t.nodeType===8?t.parentNode:t),An(function(){jo(e,a,n,r)}),a}function bo(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=to(o);l.call(a)}}jo(e,o,t,i)}else o=Z0(n,e,t,i,r);return to(o)}np=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yr(e.pendingLanes);n!==0&&(yc(e,n|1),Me(e,ie()),!(F&6)&&(yr=ie()+500,dn()))}break;case 13:An(function(){var r=It(t,1);if(r!==null){var i=ke();lt(r,t,1,i)}}),Jc(t,1)}};wc=function(t){if(t.tag===13){var e=It(t,134217728);if(e!==null){var n=ke();lt(e,t,134217728,n)}Jc(t,134217728)}};rp=function(t){if(t.tag===13){var e=Xt(t),n=It(t,e);if(n!==null){var r=ke();lt(n,t,e,r)}Jc(t,e)}};ip=function(){return $};sp=function(t,e){var n=$;try{return $=t,e()}finally{$=n}};ia=function(t,e,n){switch(e){case"input":if(Xl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=No(r);if(!i)throw Error(C(90));bf(r),Xl(r,i)}}}break;case"textarea":Ff(t,n);break;case"select":e=n.value,e!=null&&ir(t,!!n.multiple,e,!1)}};Hf=Gc;Kf=An;var ev={usingClientEntryPoint:!1,Events:[Wi,qn,No,Vf,Wf,Gc]},Ur={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tv={bundleType:Ur.bundleType,version:Ur.version,rendererPackageName:Ur.rendererPackageName,rendererConfig:Ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ur.findFiberByHostInstance||J0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gs.isDisabled&&gs.supportsFiber)try{Eo=gs.inject(tv),pt=gs}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ev;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eu(e))throw Error(C(200));return X0(t,e,null,n)};Ue.createRoot=function(t,e){if(!eu(t))throw Error(C(299));var n=!1,r="",i=Im;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xc(t,1,!1,null,null,n,!1,r,i),t[Nt]=e.current,Ci(t.nodeType===8?t.parentNode:t),new Zc(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Yf(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return An(t)};Ue.hydrate=function(t,e,n){if(!Mo(e))throw Error(C(200));return bo(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!eu(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Im;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Nm(e,null,t,1,n??null,i,!1,s,o),t[Nt]=e.current,Ci(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oo(e)};Ue.render=function(t,e,n){if(!Mo(e))throw Error(C(200));return bo(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!Mo(t))throw Error(C(40));return t._reactRootContainer?(An(function(){bo(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};Ue.unstable_batchedUpdates=Gc;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mo(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return bo(t,e,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function Tm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tm)}catch(t){console.error(t)}}Tm(),Tf.exports=Ue;var nv=Tf.exports,sh=nv;Wl.createRoot=sh.createRoot,Wl.hydrateRoot=sh.hydrateRoot;var Rm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oh=Wt.createContext&&Wt.createContext(Rm),rv=["attr","size","title"];function iv(t,e){if(t==null)return{};var n=sv(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sv(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(this,arguments)}function lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lh(Object(n),!0).forEach(function(r){ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ov(t,e,n){return e=lv(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lv(t){var e=av(t,"string");return typeof e=="symbol"?e:e+""}function av(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pm(t){return t&&t.map((e,n)=>Wt.createElement(e.tag,ro({key:n},e.attr),Pm(e.child)))}function We(t){return e=>Wt.createElement(cv,no({attr:ro({},t.attr)},e),Pm(t.child))}function cv(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=iv(t,rv),l=i||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),Wt.createElement("svg",no({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:ro(ro({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Wt.createElement("title",null,s),t.children)};return oh!==void 0?Wt.createElement(oh.Consumer,null,n=>e(n)):e(Rm)}function ah(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function ch(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function uh(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function dh(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(t)}function uv(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function dv(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function hv(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function fv(t){return We({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function pv(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function mv(t){return We({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M304 32H16A16 16 0 0 0 0 48v96a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32h56v304H80a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-40V112h56v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zm256 336h-48V144h48c14.31 0 21.33-17.31 11.31-27.31l-80-80a16 16 0 0 0-22.62 0l-80 80C379.36 126 384.36 144 400 144h48v224h-48c-14.31 0-21.32 17.31-11.31 27.31l80 80a16 16 0 0 0 22.62 0l80-80C580.64 386 575.64 368 560 368z"},child:[]}]})(t)}function Am(t){return We({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function gv(t){return We({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(t)}function _v(t){return We({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(t)}const vv=()=>u.jsxs("div",{className:"couple-section",children:[u.jsx("h2",{children:"신랑 & 신부"}),u.jsxs("div",{className:"portrait-area","data-aos":"fade-up",children:[u.jsx("div",{className:"portrait-image"}),u.jsx("div",{className:"heart-icon",children:u.jsx(uv,{})}),u.jsx("div",{className:"portrait-image"})]}),u.jsxs("div",{className:"couple-names",children:[u.jsx("span",{className:"label groom",children:"신랑"}),u.jsx("span",{className:"name-text",children:"강순원"}),u.jsx("span",{className:"label bride",children:"신부"}),u.jsx("span",{className:"name-text",children:"강순원"})]})]});const yv=()=>{const[t,e]=z.useState({days:0,hours:0,minutes:0,seconds:0});return z.useEffect(()=>{const n=new Date("2026-01-10T11:00:00").getTime(),r=()=>{const s=new Date().getTime(),o=n-s;if(o>0){const l=Math.floor(o/864e5),a=Math.floor(o%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(o%(1e3*60*60)/(1e3*60)),d=Math.floor(o%(1e3*60)/1e3);e({days:l,hours:a,minutes:c,seconds:d})}else e({days:0,hours:0,minutes:0,seconds:0})};r();const i=setInterval(r,1e3);return()=>clearInterval(i)},[]),u.jsxs("section",{id:"editor-section-dday",className:"dday-section",children:[u.jsx("div",{className:"wavebg",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 65",preserveAspectRatio:"xMidYMid meet",children:[u.jsx("g",{fill:"#ffffff",stroke:"none",transform:"translate(0,65) scale(0.1,-0.1)",children:u.jsx("path",{d:"M6470 629 c-1061 -34 -2002 -142 -3561 -408 -675 -115 -1198 -174 -1899 -214 -30 -2 2755 -3 6190 -3 3435 0 6225 1 6200 3 -25 1 -126 7 -225 13 -536 32 -1103 100 -1740 210 -737 127 -1570 247 -2110 305 -835 89 -1920 125 -2855 94z"})}),u.jsxs("g",{fill:"#ffffff",stroke:"none",transform:"translate(0,65) scale(0.1,-0.1)",className:"opacity-50",children:[u.jsx("path",{d:"M0 322 l0 -322 3073 1 c1689 1 3018 5 2952 10 -705 47 -1210 110 -1970 245 -324 57 -1231 193 -1590 238 -665 83 -1301 126 -2117 142 l-348 7 0 -321z"}),u.jsx("path",{d:"M13880 633 c-743 -17 -1425 -69 -2105 -159 -340 -45 -1173 -172 -1460 -223 -763 -135 -1251 -194 -2020 -244 -27 -2 1335 -4 3028 -5 l3077 -2 0 320 0 320 -207 -2 c-115 -1 -255 -3 -313 -5z"})]})]})}),u.jsxs("div",{className:"dday-content",children:[u.jsxs("div",{className:"countdown-container",children:[u.jsx("div",{className:"ddaybox",children:u.jsxs("div",{className:"counttext",children:[u.jsx("span",{className:"count-number",children:t.days}),u.jsx("span",{className:"count-label",children:"Days"})]})}),u.jsx("span",{className:"colon",children:":"}),u.jsx("div",{className:"ddaybox",children:u.jsxs("div",{className:"counttext",children:[u.jsx("span",{className:"count-number",children:t.hours}),u.jsx("span",{className:"count-label",children:"Hour"})]})}),u.jsx("span",{className:"colon",children:":"}),u.jsx("div",{className:"ddaybox",children:u.jsxs("div",{className:"counttext",children:[u.jsx("span",{className:"count-number",children:t.minutes}),u.jsx("span",{className:"count-label",children:"Min"})]})}),u.jsx("span",{className:"colon",children:":"}),u.jsx("div",{className:"ddaybox",children:u.jsxs("div",{className:"counttext",children:[u.jsx("span",{className:"count-number",children:t.seconds}),u.jsx("span",{className:"count-label",children:"Sec"})]})})]}),u.jsx("div",{className:"dday-message",children:u.jsxs("p",{children:["순원 ",u.jsx("span",{className:"heart",children:"♥"})," 순투의 결혼식이"," ",u.jsx("strong",{children:u.jsx("span",{className:"highlight",children:t.days})}),"일 남았습니다."]})})]})]})};const wv=()=>{const t=new Date(2026,0,10),e=t.getMonth(),n=t.getFullYear(),r=t.getDate(),i=new Date(n,e,1),s=new Date(n,e+1,0),o=i.getDay(),l=s.getDate(),a=[];for(let d=0;d<o;d++)a.push(null);for(let d=1;d<=l;d++)a.push(d);const c=["일","월","화","수","목","금","토"];return u.jsxs("section",{className:"calendar-section",children:[u.jsx("h2",{className:"section-title",children:"Calendar"}),u.jsxs("div",{className:"wedding-date-info",children:[u.jsx("div",{className:"date-text",children:"2026년 1월 10일 토요일 오전 11시"}),u.jsx("div",{className:"venue-text",children:"영등포 더 컨벤션 2층"})]}),u.jsx("div",{className:"calendar-container",children:u.jsxs("table",{className:"calendar-table",children:[u.jsx("thead",{children:u.jsx("tr",{children:c.map((d,f)=>u.jsx("th",{className:f===0?"sunday":"",children:u.jsx("div",{children:d})},f))})}),u.jsx("tbody",{children:Array.from({length:Math.ceil(a.length/7)},(d,f)=>u.jsx("tr",{children:Array.from({length:7},(h,_)=>{const v=f*7+_,y=a[v],R=y===r,m=_===0;return u.jsx("td",{className:"calendar-cell",children:u.jsxs("div",{className:"calendar-day",children:[u.jsx("div",{className:`day-number ${R?"wedding-day":""} ${m&&y?"sunday":""}`,children:y||""}),R&&u.jsx("div",{className:"wedding-time",children:"오전 11시"})]})},_)})},f))})]})})]})};const Cv=Array.from({length:32},(t,e)=>{const n=e+1;return{id:n,url:`https://picsum.photos/400/600?random=${n}`,alt:`Wedding photo ${n}`,title:`Our Memory #${n}`}}),Ev=()=>{const[t,e]=z.useState(null),[n,r]=z.useState(typeof window<"u"?window.innerWidth:1200),i=z.useRef(null),s=d=>d.includes("picsum.photos")?d.replace("/400/500","/240/300"):d,o=d=>{e(d),document.body.style.overflow="hidden"},l=()=>{e(null),document.body.style.overflow="auto"};z.useEffect(()=>{const d=()=>{r(window.innerWidth)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),z.useEffect(()=>{const d=h=>{i.current&&!i.current.contains(h.target)&&l()},f=h=>{h.key==="Escape"&&l()};return t&&(document.addEventListener("mousedown",d),document.addEventListener("keydown",f)),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",f)}},[t]);const a=d=>{const f=d.target;f.src="placeholder.jpg"},c=d=>{const h=(()=>n<=480?90:n<=768?110:137.097)(),_=Math.floor(d/8),v=d%8;return{top:_*h,left:v*h,width:h,height:h}};return u.jsxs("div",{className:"photo-gallery",children:[u.jsx("h2",{children:"Our Moments"}),u.jsx("div",{className:"gallery-container",children:u.jsx("div",{className:"gallery-wrapper",children:u.jsx("div",{className:"gallery-grid-absolute",children:Cv.map((d,f)=>{const h=c(f);return u.jsx("div",{className:"gallery-item absolute",style:{top:`${h.top}px`,left:`${h.left}px`,width:`${h.width}px`,height:`${h.height}px`},onClick:()=>o(d),children:u.jsx("a",{target:"_blank",rel:"noopener noreferrer",draggable:!1,className:"select-none pointer-events-auto callout",onClick:_=>{_.preventDefault(),o(d)},children:u.jsx("img",{src:s(d.url),alt:d.alt,width:"300",draggable:!1,loading:"lazy",onError:a,className:"bg-full w-full h-full object-cover block cursor-pointer gallery-item-img rounded-md select-none pointer-events-none"})})},d.id)})})})}),t&&u.jsx("div",{className:"image-modal",children:u.jsxs("div",{className:"modal-content",ref:i,children:[u.jsx("button",{className:"close-button",onClick:l,children:u.jsx(Am,{})}),u.jsx("img",{src:t.url,alt:t.alt,className:"enlarged-image",onError:a}),u.jsx("div",{className:"image-caption",children:t.title})]})})]})};const tt={location:"영등포 더컨벤션",address:"서울 영등포구 국회대로 38길 2",detailAddress:"더컨벤션 2층",mapUrl:"https://map.naver.com/p/search/%EB%8D%94%EC%BB%A8%EB%B2%A4%EC%85%98%20%EC%98%81%EB%93%B1%ED%8F%AC/place/1241035074?placePath=/home?entry=pll&from=nx&fromNxList=true&fromPanelNum=2&timestamp=202506221827&locale=ko&svcName=map_pcv5&searchText=%EB%8D%94%EC%BB%A8%EB%B2%A4%EC%85%98%20%EC%98%81%EB%93%B1%ED%8F%AC&searchType=place&c=15.00,0,0,0,dh",mapLat:37.517331,mapLng:126.903379},Rl=t=>{const{location:e,mapLat:n,mapLng:r}=tt;switch(t){case"naver":window.open(`https://map.naver.com/p/search/${encodeURIComponent(e)}/place/1241035074`,"_blank");break;case"kakao":window.open(`https://map.kakao.com/link/search/${encodeURIComponent(e)}`,"_blank");break;case"tmap":const i=`tmap://search?name=${encodeURIComponent(e)}&coordinate=${r},${n}`,s=`https://apis.openapi.sk.com/tmap/app/routes/search?goalname=${encodeURIComponent(e)}&goalx=${r}&goaly=${n}`;try{window.location.href=i,setTimeout(()=>{window.open(s,"_blank")},1e3)}catch{window.open(s,"_blank")}break}},Sv=async()=>{const t=`${tt.address} (${tt.detailAddress})`;try{await navigator.clipboard.writeText(t),alert("주소가 복사되었습니다.")}catch{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),alert("주소가 복사되었습니다.")}};function xv(){const t=z.useRef(null);return z.useEffect(()=>{const e=document.createElement("script");return e.async=!0,e.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=439c8fb6037735b1a6e4856e2772f492&autoload=false",document.head.appendChild(e),e.onload=()=>{window.kakao.maps.load(()=>{if(t.current){const n={center:new window.kakao.maps.LatLng(tt.mapLat,tt.mapLng),level:3},r=new window.kakao.maps.Map(t.current,n),i=new window.kakao.maps.LatLng(tt.mapLat,tt.mapLng),s=new window.kakao.maps.Marker({position:i});s.setMap(r),new window.kakao.maps.InfoWindow({content:`<div style="width:150px;text-align:center;padding:6px 0;">${tt.location}</div>`}).open(r,s)}})},()=>{e.parentNode&&e.parentNode.removeChild(e)}},[]),u.jsxs("div",{className:"location-section",children:[u.jsxs("div",{className:"map-container",children:[u.jsx("h3",{children:"오시는 길"}),u.jsxs("div",{className:"address-info",children:[u.jsxs("div",{className:"address-text",children:[u.jsx("p",{children:u.jsx("strong",{children:tt.location})}),u.jsx("p",{children:tt.address}),u.jsx("p",{children:tt.detailAddress})]}),u.jsx("button",{className:"copy-address-btn",onClick:Sv,children:"주소 복사"})]}),u.jsx("div",{id:"kakao-map",ref:t,className:"kakao-map"}),u.jsx("div",{className:"navigation-buttons custom-navi-buttons",children:u.jsxs("div",{className:"navi-btn-wrap",children:[u.jsxs("div",{className:"navi-btn",onClick:()=>Rl("naver"),children:[u.jsx("img",{src:"https://cdn2.makedear.com/homepage/img/icon/navermap1.webp",draggable:"false",className:"navi-icon-sm"}),u.jsx("span",{children:"네이버지도"})]}),u.jsx("div",{className:"navi-divider"}),u.jsxs("div",{className:"navi-btn",onClick:()=>Rl("kakao"),children:[u.jsx("img",{src:"https://cdn2.makedear.com/homepage/img/icon/kakaonavi1.png",draggable:"false",className:"navi-icon-sm"}),u.jsx("span",{children:"카카오내비"})]}),u.jsx("div",{className:"navi-divider"}),u.jsxs("div",{className:"navi-btn",onClick:()=>Rl("tmap"),children:[u.jsx("img",{src:"https://cdn2.makedear.com/homepage/img/icon/tmap1.png",draggable:"false",className:"navi-icon-sm"}),u.jsx("span",{children:"티맵"})]})]})})]}),u.jsxs("div",{className:"transportation-info",children:[u.jsx("h3",{children:"대중교통 안내"}),u.jsxs("div",{className:"transportation-section",children:[u.jsx("h4",{children:"🚇 지하철"}),u.jsx("ul",{children:u.jsxs("li",{children:[u.jsx("strong",{children:"2, 5호선 영등포구청역"})," 4번 출구에서 도보 3분"]})})]}),u.jsxs("div",{className:"transportation-section",children:[u.jsx("h5",{children:"🚌 버스"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"일반"})," 5"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"간선"})," 670"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"지선"})," 5620, 6631, 6637"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"마을"})," 영등포02, 12"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"광역"})," 2500"]})]})]}),u.jsxs("div",{className:"transportation-section",children:[u.jsx("h5",{children:"🚗 자가용"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"주소"})," 서울 영등포구 국회대로38길 2 ",u.jsx("br",{})," (당산동 3가 93-2)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"네비게이션"}),' "영등포 더컨벤션" 검색']}),u.jsx("li",{children:u.jsx("strong",{children:"주차안내"})}),u.jsx("li",{children:"지하 주차장 - 정산 X "}),u.jsx("li",{children:"공영 주차장 - 2시간 무료 "}),u.jsx("li",{children:"조선선재 주차장 - 도보 8분 "})]})]})]})]})}const kv=({isOpen:t,onClose:e})=>{if(!t)return null;const n=u.jsx("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 512 512",className:"contact-icon",children:u.jsx("path",{d:"M86.5 1.5C75.2 5 72.3 7.4 41.9 37.9c-28 28-29.9 30-33.7 37.8-2.2 4.5-4.9 11.7-5.9 16-2.4 10.7-2.5 33.2 0 46.8C15 208.1 65.6 290.7 143 368.1c78.2 78.3 161.4 129.7 229.5 142 10.1 1.8 14.5 2 27.5 1.6 17.3-.6 23.3-1.8 35-7.4 7-3.4 9.7-5.8 37.6-33.7 26.3-26.3 30.5-30.9 33.3-36.6 7.5-15.4 7.7-31.8.7-46.6-3.5-7.4-5.4-9.5-41.4-45.7-20.7-20.8-40.3-39.8-43.5-42.2-8.6-6.5-15.2-8.8-27.7-9.3-12.2-.5-19.6 1.5-28.7 7.5-9 5.9-12.8 11.1-18.9 25.3-3.8 8.7-8.2 14.7-14.3 19.3-14.4 11-29.9 13.5-47.1 7.7-43.8-14.6-95.4-62.1-117.4-108-5.4-11.4-10.6-28.3-10.6-34.4.2-15.7 12.5-33.9 27.7-40.7 15.8-7.2 18.1-8.5 23.4-13.8 11.6-11.6 16.5-29.7 12.4-45.6-3.4-13.1-5.4-15.5-45-55.4C132 8.2 129 5.7 114.8 1.6c-6.7-1.9-22.4-2-28.3-.1z"})}),r=u.jsxs("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 512 512",className:"contact-icon",children:[u.jsx("path",{d:"M58.4 65.9c-20.9 6-37 23.7-41.8 46.1-.5 2.4 6.2 6.8 118.5 79.5 65.5 42.3 119.7 77.1 120.4 77.3.8.2 55.2-34.5 120.9-77 112.9-73 119.5-77.4 119-79.8-5-22.7-21.1-40.3-42.3-46.2-6.2-1.7-15.9-1.8-197.6-1.7-178.1 0-191.4.2-197.1 1.8z"}),u.jsx("path",{d:"M16 274.6c0 137.4-.4 129.1 6.8 142.8 5 9.6 15 19.4 24.4 24.1 14.2 7-1.6 6.5 208.7 6.5 211.6 0 195.6.5 209.5-6.8 9.1-4.8 19-14.7 23.8-23.8 7.2-13.8 6.8-5.3 6.6-142.6l-.3-123.4L383 224.2c-61.9 40.1-114.7 74.2-117.5 75.8-7.5 4.4-12.3 4.1-21-1.3-3.9-2.4-53.8-34.6-111-71.7-57.2-37-107-69.3-110.7-71.7L16 151v123.6z"})]});return u.jsx("div",{className:"contact-popup-overlay",onClick:e,children:u.jsxs("div",{className:"contact-popup",onClick:i=>i.stopPropagation(),children:[u.jsx("button",{className:"close-button",onClick:e,children:u.jsx(Am,{})}),u.jsxs("div",{className:"contact-content",children:[u.jsxs("div",{className:"contact-row",children:[u.jsx("div",{className:"contact-half contactgroom",children:u.jsxs("div",{className:"contact-person",children:[u.jsx("div",{className:"contactlabel",children:"신랑"}),u.jsx("div",{className:"contactname",children:u.jsx("p",{children:"강순원"})}),u.jsxs("div",{className:"contact-actions",children:[u.jsx("a",{href:"tel:010-9504-0383",className:"contact-button",children:n}),u.jsx("a",{href:"sms:010-9504-0383",className:"contact-button",children:r})]})]})}),u.jsx("div",{className:"contact-half contactbride",children:u.jsxs("div",{className:"contact-person",children:[u.jsx("div",{className:"contactlabel",children:"신부"}),u.jsx("div",{className:"contactname",children:u.jsx("p",{children:"강순투"})}),u.jsxs("div",{className:"contact-actions",children:[u.jsx("a",{href:"tel:010-9504-0383",className:"contact-button",children:n}),u.jsx("a",{href:"sms:010-9504-0383",className:"contact-button",children:r})]})]})})]}),u.jsxs("div",{className:"contact-row",children:[u.jsx("div",{className:"contact-half contactgroom",children:u.jsxs("div",{className:"contact-person",children:[u.jsx("div",{className:"contactlabel",children:"신랑 아버지"}),u.jsx("div",{className:"contactname",children:u.jsx("p",{children:"강순원원"})}),u.jsxs("div",{className:"contact-actions",children:[u.jsx("a",{href:"tel:010-9504-0383",className:"contact-button",children:n}),u.jsx("a",{href:"sms:010-9504-0383",className:"contact-button",children:r})]})]})}),u.jsx("div",{className:"contact-half contactbride",children:u.jsxs("div",{className:"contact-person",children:[u.jsx("div",{className:"contactlabel",children:"신부 아버지"}),u.jsx("div",{className:"contactname",children:u.jsx("p",{children:"강순투원"})}),u.jsxs("div",{className:"contact-actions",children:[u.jsx("a",{href:"tel:010-9504-0383",className:"contact-button",children:n}),u.jsx("a",{href:"sms:010-9504-0383",className:"contact-button",children:r})]})]})})]}),u.jsxs("div",{className:"contact-row",children:[u.jsx("div",{className:"contact-half contactgroom",children:u.jsxs("div",{className:"contact-person",children:[u.jsx("div",{className:"contactlabel",children:"신랑 어머니"}),u.jsx("div",{className:"contactname",children:u.jsx("p",{children:"강순원쓰"})}),u.jsxs("div",{className:"contact-actions",children:[u.jsx("a",{href:"tel:010-9504-0383",className:"contact-button",children:n}),u.jsx("a",{href:"sms:010-9504-0383",className:"contact-button",children:r})]})]})}),u.jsx("div",{className:"contact-half contactbride",children:u.jsxs("div",{className:"contact-person",children:[u.jsx("div",{className:"contactlabel",children:"신부 어머니"}),u.jsx("div",{className:"contactname",children:u.jsx("p",{children:"강순투쓰"})}),u.jsxs("div",{className:"contact-actions",children:[u.jsx("a",{href:"tel:010-9504-0383",className:"contact-button",children:n}),u.jsx("a",{href:"sms:010-9504-0383",className:"contact-button",children:r})]})]})})]})]})]})})};function Nv(){const[t,e]=z.useState(!1),n=()=>{e(!0),document.body.style.overflow="hidden"},r=()=>{e(!1),document.body.style.overflow="auto"};return u.jsxs("div",{className:"contacts-section",children:[u.jsx("h2",{className:"contacts-title",children:"연락처"}),u.jsx("p",{className:"contacts-subtitle",children:"축하의 말씀을 전해주세요"}),u.jsx("div",{className:"contact-buttons",children:u.jsxs("button",{className:"contact-button phone",onClick:n,children:[u.jsx(hv,{className:"button-icon"}),u.jsx("span",{children:"연락처 보기"})]})}),u.jsx(kv,{isOpen:t,onClose:r})]})}const Iv=()=>{const[t,e]=z.useState(null),[n,r]=z.useState({groom:!1,bride:!1}),i=[{name:"강순원",bank:"하나",number:"117-891770-28107",relation:"신랑"},{name:"강순원원",bank:"농협",number:"453065-56-032166",relation:"아버지"},{name:"강순원투",bank:"하나",number:"655-082594-00108",relation:"어머니"}],s=[{name:"강순투",bank:"카카오뱅크",number:"3333-04-1234567",relation:"신부"},{name:"강순투원",bank:"국민은행",number:"012-3456-7890",relation:"아버지"},{name:"강순투투",bank:"신한은행",number:"110-456-789012",relation:"어머니"}],o=a=>{r(c=>({...c,[a]:!c[a]}))},l=(a,c)=>{const f=(a.split(" ").pop()||"").replace(/-/g,"");navigator.clipboard.writeText(f),e(c),setTimeout(()=>e(null),2e3)};return u.jsxs("div",{className:"bank-transfer-section",children:[u.jsx("h2",{className:"section-title",children:"마음전하실곳"}),u.jsxs("div",{"data-aos":"fade-up",className:"account section-account-area-1 pb-12 whitespace-pre-wrap TmoneyRoundWind aos-init aos-animate",children:[u.jsx("p",{children:"참석이 어려워 직접 축하를 전하지 못하는"}),u.jsx("p",{children:"분들을 위해 계좌번호를 기재하였습니다."}),u.jsx("p",{children:"넓은 마음으로 양해 부탁드립니다."}),u.jsx("p",{children:"전해주시는 진심은 소중하게 간직하여"}),u.jsx("p",{children:"좋은 부부의 모습으로 보답하겠습니다."})]}),u.jsxs("div",{className:`account-section ${n.groom?"expanded":""}`,children:[u.jsxs("div",{className:"section-header",onClick:()=>o("groom"),children:[u.jsx("span",{children:"신랑측"}),n.groom?u.jsx(uh,{}):u.jsx(ch,{})]}),u.jsx("div",{className:"account-list",children:n.groom&&i.map((a,c)=>u.jsxs("div",{className:"account-item",children:[u.jsxs("div",{className:"account-info",children:[u.jsx("div",{className:"account-relation",children:a.relation}),u.jsx("div",{className:"account-name",children:a.name})]}),u.jsxs("div",{className:"account-details",children:[u.jsx("div",{className:"bank-name",children:a.bank}),u.jsx("div",{className:"account-number",children:a.number}),u.jsx("button",{className:`copy-button ${t===`${a.bank}-${a.number}`?"copied":""}`,onClick:()=>l(`${a.bank} ${a.number}`,`${a.bank}-${a.number}`),"aria-label":"계좌번호 복사",children:t===`${a.bank}-${a.number}`?u.jsxs(u.Fragment,{children:[u.jsx(ah,{className:"icon"})," 복사완료"]}):u.jsxs(u.Fragment,{children:[u.jsx(dh,{className:"icon"})," 복사"]})})]})]},`groom-${c}`))})]}),u.jsxs("div",{className:`account-section ${n.bride?"expanded":""}`,children:[u.jsxs("div",{className:"section-header",onClick:()=>o("bride"),children:[u.jsx("span",{children:"신부측"}),n.bride?u.jsx(uh,{}):u.jsx(ch,{})]}),u.jsx("div",{className:"account-list",children:n.bride&&s.map((a,c)=>u.jsxs("div",{className:"account-item",children:[u.jsxs("div",{className:"account-info",children:[u.jsx("div",{className:"account-relation",children:a.relation}),u.jsx("div",{className:"account-name",children:a.name})]}),u.jsxs("div",{className:"account-details",children:[u.jsx("div",{className:"bank-name",children:a.bank}),u.jsx("div",{className:"account-number",children:a.number}),u.jsx("button",{className:`copy-button ${t===`${a.bank}-${a.number}`?"copied":""}`,onClick:()=>l(`${a.bank} ${a.number}`,`${a.bank}-${a.number}`),"aria-label":"계좌번호 복사",children:t===`${a.bank}-${a.number}`?u.jsxs(u.Fragment,{children:[u.jsx(ah,{className:"icon"})," 복사완료"]}):u.jsxs(u.Fragment,{children:[u.jsx(dh,{className:"icon"})," 복사"]})})]})]},`bride-${c}`))})]})]})},Tv=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(t,e){if(!t)throw Rr(e)},Rr=function(t){return new Error("Firebase Database ("+Dm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let h=(l&15)<<2|c>>6,_=c&63;a||(_=64,o||(h=64)),r.push(n[d],n[f],n[h],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||f==null)throw new Pv;const h=s<<2|l>>4;if(r.push(h),c!==64){const _=l<<4&240|c>>2;if(r.push(_),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Om=function(t){const e=jm(t);return tu.encodeByteArray(e,!0)},io=function(t){return Om(t).replace(/\./g,"")},La=function(t){try{return tu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t){return Mm(void 0,t)}function Mm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Dv(n)||(t[n]=Mm(t[n],e[n]));return t}function Dv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=()=>jv().__FIREBASE_DEFAULTS__,Mv=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&La(t[1]);return e&&JSON.parse(e)},bm=()=>{try{return Tv()||Ov()||Mv()||bv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lv=t=>{var e,n;return(n=(e=bm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Fv=t=>{const e=Lv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lm=()=>{var t;return(t=bm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){return t.endsWith(".cloudworkstations.dev")}async function zv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[io(JSON.stringify(n)),io(JSON.stringify(o)),l].join(".")}const li={};function $v(){const t={prod:[],emulator:[]};for(const e of Object.keys(li))li[e]?t.emulator.push(e):t.prod.push(e);return t}function Uv(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hh=!1;function Vv(t,e){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||li[t]===e||li[t]||hh)return;li[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=$v().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function a(h,_){h.setAttribute("width","24"),h.setAttribute("id",_),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{hh=!0,o()},h}function d(h,_){h.setAttribute("id",_),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Uv(r),_=n("text"),v=document.getElementById(_)||document.createElement("span"),y=n("learnmore"),R=document.getElementById(y)||document.createElement("a"),m=n("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const g=h.element;l(g),d(R,y);const w=c();a(p,m),g.append(p,v,R,w),document.body.appendChild(g)}s?(v.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wv())}function Hv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Kv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zm(){return Dm.NODE_ADMIN===!0}function Bm(){try{return typeof indexedDB=="object"}catch{return!1}}function $m(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Gv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qv,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Yv(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Bn(i,l,r)}}function Yv(t,e){return t.replace(qv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qv=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t){return JSON.parse(t)}function fe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Pi(La(s[0])||""),n=Pi(La(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Xv=function(t){const e=Um(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Jv=function(t){const e=Um(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function fh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ai(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ph(s)&&ph(o)){if(!Ai(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ph(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,d;for(let f=0;f<80;f++){f<40?f<20?(c=l^s&(o^l),d=1518500249):(c=s^o^l,d=1859775393):f<60?(c=s&o|l&(s|o),d=2400959708):(c=s^o^l,d=3395469782);const h=(i<<5|i>>>27)+c+a+d+r[f]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Fo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=1e3,ry=2,iy=4*60*60*1e3,sy=.5;function mh(t,e=ny,n=ry){const r=e*Math.pow(n,t),i=Math.round(sy*r*(Math.random()-.5)*2);return Math.min(iy,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Rt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ki;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ay(e))try{this.getOrInitializeService({instanceIdentifier:gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gn){return this.instances.has(e)}getOptions(e=gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ly(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gn){return this.component?this.component.multipleInstances?e:gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ly(t){return t===gn?void 0:t}function ay(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(W||(W={}));const uy={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},dy=W.INFO,hy={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},fy=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hy[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ru{constructor(e){this.name=e,this._logLevel=dy,this._logHandler=fy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}}const py=(t,e)=>e.some(n=>t instanceof n);let gh,_h;function my(){return gh||(gh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gy(){return _h||(_h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vm=new WeakMap,Fa=new WeakMap,Wm=new WeakMap,Pl=new WeakMap,iu=new WeakMap;function _y(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vm.set(n,t)}).catch(()=>{}),iu.set(e,t),e}function vy(t){if(Fa.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fa.set(t,e)}let za={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yy(t){za=t(za)}function wy(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Al(this),e,...n);return Wm.set(r,e.sort?e.sort():[e]),Zt(r)}:gy().includes(t)?function(...e){return t.apply(Al(this),e),Zt(Vm.get(this))}:function(...e){return Zt(t.apply(Al(this),e))}}function Cy(t){return typeof t=="function"?wy(t):(t instanceof IDBTransaction&&vy(t),py(t,my())?new Proxy(t,za):t)}function Zt(t){if(t instanceof IDBRequest)return _y(t);if(Pl.has(t))return Pl.get(t);const e=Cy(t);return e!==t&&(Pl.set(t,e),iu.set(e,t)),e}const Al=t=>iu.get(t);function Hm(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Zt(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Zt(o.result),a.oldVersion,a.newVersion,Zt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Ey=["get","getKey","getAll","getAllKeys","count"],Sy=["put","add","delete","clear"],Dl=new Map;function vh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dl.get(e))return Dl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ey.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return Dl.set(e,s),s}yy(t=>({...t,get:(e,n,r)=>vh(e,n)||t.get(e,n,r),has:(e,n)=>!!vh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ky(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ky(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ba="@firebase/app",yh="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt=new ru("@firebase/app"),Ny="@firebase/app-compat",Iy="@firebase/analytics-compat",Ty="@firebase/analytics",Ry="@firebase/app-check-compat",Py="@firebase/app-check",Ay="@firebase/auth",Dy="@firebase/auth-compat",jy="@firebase/database",Oy="@firebase/data-connect",My="@firebase/database-compat",by="@firebase/functions",Ly="@firebase/functions-compat",Fy="@firebase/installations",zy="@firebase/installations-compat",By="@firebase/messaging",$y="@firebase/messaging-compat",Uy="@firebase/performance",Vy="@firebase/performance-compat",Wy="@firebase/remote-config",Hy="@firebase/remote-config-compat",Ky="@firebase/storage",Gy="@firebase/storage-compat",Qy="@firebase/firestore",Yy="@firebase/ai",qy="@firebase/firestore-compat",Xy="firebase",Jy="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="[DEFAULT]",Zy={[Ba]:"fire-core",[Ny]:"fire-core-compat",[Ty]:"fire-analytics",[Iy]:"fire-analytics-compat",[Py]:"fire-app-check",[Ry]:"fire-app-check-compat",[Ay]:"fire-auth",[Dy]:"fire-auth-compat",[jy]:"fire-rtdb",[Oy]:"fire-data-connect",[My]:"fire-rtdb-compat",[by]:"fire-fn",[Ly]:"fire-fn-compat",[Fy]:"fire-iid",[zy]:"fire-iid-compat",[By]:"fire-fcm",[$y]:"fire-fcm-compat",[Uy]:"fire-perf",[Vy]:"fire-perf-compat",[Wy]:"fire-rc",[Hy]:"fire-rc-compat",[Ky]:"fire-gcs",[Gy]:"fire-gcs-compat",[Qy]:"fire-fst",[qy]:"fire-fst-compat",[Yy]:"fire-vertex","fire-js":"fire-js",[Xy]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Map,ew=new Map,Ua=new Map;function wh(t,e){try{t.container.addComponent(e)}catch(n){Pt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sn(t){const e=t.name;if(Ua.has(e))return Pt.debug(`There were multiple attempts to register component ${e}.`),!1;Ua.set(e,t);for(const n of Di.values())wh(n,t);for(const n of ew.values())wh(n,t);return!0}function Gi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tw(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},en=new Lo("app","Firebase",nw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=Jy;function Km(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$a,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw en.create("bad-app-name",{appName:String(i)});if(n||(n=Lm()),!n)throw en.create("no-options");const s=Di.get(i);if(s){if(Ai(n,s.options)&&Ai(r,s.config))return s;throw en.create("duplicate-app",{appName:i})}const o=new cy(i);for(const a of Ua.values())o.addComponent(a);const l=new rw(n,r,o);return Di.set(i,l),l}function su(t=$a){const e=Di.get(t);if(!e&&t===$a&&Lm())return Km();if(!e)throw en.create("no-app",{appName:t});return e}function sw(){return Array.from(Di.values())}function gt(t,e,n){var r;let i=(r=Zy[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pt.warn(l.join(" "));return}sn(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firebase-heartbeat-database",lw=1,ji="firebase-heartbeat-store";let jl=null;function Gm(){return jl||(jl=Hm(ow,lw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ji)}catch(n){console.warn(n)}}}}).catch(t=>{throw en.create("idb-open",{originalErrorMessage:t.message})})),jl}async function aw(t){try{const n=(await Gm()).transaction(ji),r=await n.objectStore(ji).get(Qm(t));return await n.done,r}catch(e){if(e instanceof Bn)Pt.warn(e.message);else{const n=en.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pt.warn(n.message)}}}async function Ch(t,e){try{const r=(await Gm()).transaction(ji,"readwrite");await r.objectStore(ji).put(e,Qm(t)),await r.done}catch(n){if(n instanceof Bn)Pt.warn(n.message);else{const r=en.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pt.warn(r.message)}}}function Qm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=1024,uw=30;class dw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Eh();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>uw){const o=pw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Eh(),{heartbeatsToSend:r,unsentEntries:i}=hw(this._heartbeatsCache.heartbeats),s=io(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Pt.warn(n),""}}}function Eh(){return new Date().toISOString().substring(0,10)}function hw(t,e=cw){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sh(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bm()?$m().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ch(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ch(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sh(t){return io(JSON.stringify({version:2,heartbeats:t})).length}function pw(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t){sn(new Rt("platform-logger",e=>new xy(e),"PRIVATE")),sn(new Rt("heartbeat",e=>new dw(e),"PRIVATE")),gt(Ba,yh,t),gt(Ba,yh,"esm2017"),gt("fire-js","")}mw("");var gw="firebase",_w="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gt(gw,_w,"app");const xh="@firebase/database",kh="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym="";function vw(t){Ym=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),fe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Pi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yw(e)}}catch{}return new ww},Cn=qm("localStorage"),Va=qm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new ru("@firebase/database"),Cw=function(){let t=1;return function(){return t++}}(),Xm=function(t){const e=ty(t),n=new ey;n.update(e);const r=n.digest();return tu.encodeByteArray(r)},Qi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Qi.apply(null,r):typeof r=="object"?e+=fe(r):e+=r,e+=" "}return e};let kn=null,Nh=!0;const Ew=function(t,e){E(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ur.logLevel=W.VERBOSE,kn=ur.log.bind(ur),e&&Va.set("logging_enabled",!0)):typeof t=="function"?kn=t:(kn=null,Va.remove("logging_enabled"))},ge=function(...t){if(Nh===!0&&(Nh=!1,kn===null&&Va.get("logging_enabled")===!0&&Ew(!0)),kn){const e=Qi.apply(null,t);kn(e)}},Yi=function(t){return function(...e){ge(t,...e)}},Wa=function(...t){const e="FIREBASE INTERNAL ERROR: "+Qi(...t);ur.error(e)},At=function(...t){const e=`FIREBASE FATAL ERROR: ${Qi(...t)}`;throw ur.error(e),new Error(e)},Ne=function(...t){const e="FIREBASE WARNING: "+Qi(...t);ur.warn(e)},Sw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ne("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ou=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},xw=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Dn="[MIN_NAME]",on="[MAX_NAME]",$n=function(t,e){if(t===e)return 0;if(t===Dn||e===on)return-1;if(e===Dn||t===on)return 1;{const n=Ih(t),r=Ih(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},kw=function(t,e){return t===e?0:t<e?-1:1},Vr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+fe(e))},lu=function(t){if(typeof t!="object"||t===null)return fe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=fe(e[r]),n+=":",n+=lu(t[e[r]]);return n+="}",n},Jm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Zm=function(t){E(!ou(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let f="";for(a=0;a<64;a+=8){let h=parseInt(d.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Nw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Iw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Tw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Rw=new RegExp("^-?(0*)\\d{1,10}$"),Pw=-2147483648,Aw=2147483647,Ih=function(t){if(Rw.test(t)){const e=Number(t);if(e>=Pw&&e<=Aw)return e}return null},Pr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ne("Exception was thrown by user callback.",n),e},Math.floor(0))}},Dw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ai=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,tw(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ne(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ge("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ne(e)}}class dr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}dr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="5",eg="v",tg="s",ng="r",rg="f",ig=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sg="ls",og="p",Ha="ac",lg="websocket",ag="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Mw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ug(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===lg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ag)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mw(t)&&(n.ns=t.namespace);const i=[];return ye(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.counters_={}}incrementCounter(e,n=1){_t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Av(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol={},Ml={};function cu(t){const e=t.toString();return Ol[e]||(Ol[e]=new bw),Ol[e]}function Lw(t,e){const n=t.toString();return Ml[n]||(Ml[n]=e()),Ml[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="start",zw="close",Bw="pLPCommand",$w="pRTLPCB",dg="id",hg="pw",fg="ser",Uw="cb",Vw="seg",Ww="ts",Hw="d",Kw="dframe",pg=1870,mg=30,Gw=pg-mg,Qw=25e3,Yw=3e4;class rr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yi(e),this.stats_=cu(n),this.urlFn=a=>(this.appCheckToken&&(a[Ha]=this.appCheckToken),ug(n,ag,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Fw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Yw)),xw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new uu((...s)=>{const[o,l,a,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Th)this.id=l,this.password=a;else if(o===zw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Th]="t",r[fg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Uw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eg]=au,this.transportSessionId&&(r[tg]=this.transportSessionId),this.lastSessionId&&(r[sg]=this.lastSessionId),this.applicationId&&(r[og]=this.applicationId),this.appCheckToken&&(r[Ha]=this.appCheckToken),typeof location<"u"&&location.hostname&&ig.test(location.hostname)&&(r[ng]=rg);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rr.forceAllow_=!0}static forceDisallow(){rr.forceDisallow_=!0}static isAvailable(){return rr.forceAllow_?!0:!rr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Nw()&&!Iw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Om(n),i=Jm(r,Gw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Kw]="t",r[dg]=e,r[hg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=fe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class uu{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Cw(),window[Bw+this.uniqueCallbackIdentifier]=e,window[$w+this.uniqueCallbackIdentifier]=n,this.myIFrame=uu.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ge("frame writing exception"),l.stack&&ge(l.stack),ge(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ge("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dg]=this.myID,e[hg]=this.myPW,e[fg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mg+r.length<=pg;){const o=this.pendingSegs.shift();r=r+"&"+Vw+i+"="+o.seg+"&"+Ww+i+"="+o.ts+"&"+Hw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Qw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ge("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=16384,Xw=45e3;let oo=null;typeof MozWebSocket<"u"?oo=MozWebSocket:typeof WebSocket<"u"&&(oo=WebSocket);class it{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yi(this.connId),this.stats_=cu(n),this.connURL=it.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[eg]=au,typeof location<"u"&&location.hostname&&ig.test(location.hostname)&&(o[ng]=rg),n&&(o[tg]=n),r&&(o[sg]=r),i&&(o[Ha]=i),s&&(o[og]=s),ug(e,lg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cn.set("previous_websocket_failure",!0);try{let r;zm(),this.mySock=new oo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){it.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&oo!==null&&!it.forceDisallow_}static previouslyFailed(){return Cn.isInMemoryStorage||Cn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Cn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Pi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(E(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=fe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Jm(n,qw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Xw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}it.responsesRequiredToBeHealthy=2;it.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{static get ALL_TRANSPORTS(){return[rr,it]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=it&&it.isAvailable();let r=n&&!it.previouslyFailed();if(e.webSocketOnly&&(n||Ne("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[it];else{const i=this.transports_=[];for(const s of Oi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Oi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=6e4,Zw=5e3,e2=10*1024,t2=100*1024,bl="t",Rh="d",n2="s",Ph="r",r2="e",Ah="o",Dh="a",jh="n",Oh="p",i2="h";class s2{constructor(e,n,r,i,s,o,l,a,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yi("c:"+this.id+":"),this.transportManager_=new Oi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>t2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>e2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bl in e){const n=e[bl];n===Dh?this.upgradeIfSecondaryHealthy_():n===Ph?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ah&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vr("t",e),r=Vr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Oh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Dh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vr("t",e),r=Vr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vr(bl,e);if(Rh in e){const r=e[Rh];if(n===i2){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===jh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===n2?this.onConnectionShutdown_(r):n===Ph?this.onReset_(r):n===r2?Wa("Server Error: "+r):n===Ah?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wa("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),au!==r&&Ne("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Jw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Zw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Oh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends _g{static getInstance(){return new lo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=32,bh=768;class U{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function B(){return new U("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ln(t){return t.pieces_.length-t.pieceNum_}function H(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new U(t.pieces_,e)}function du(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function o2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Mi(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new U(e,0)}function te(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof U)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new U(n,0)}function O(t){return t.pieceNum_>=t.pieces_.length}function Ae(t,e){const n=j(t),r=j(e);if(n===null)return e;if(n===r)return Ae(H(t),H(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function l2(t,e){const n=Mi(t,0),r=Mi(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=$n(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function hu(t,e){if(ln(t)!==ln(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Qe(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ln(t)>ln(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class a2{constructor(e,n){this.errorPrefix_=n,this.parts_=Mi(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zo(this.parts_[r]);yg(this)}}function c2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zo(e),yg(t)}function u2(t){const e=t.parts_.pop();t.byteLength_-=zo(e),t.parts_.length>0&&(t.byteLength_-=1)}function yg(t){if(t.byteLength_>bh)throw new Error(t.errorPrefix_+"has a key path longer than "+bh+" bytes ("+t.byteLength_+").");if(t.parts_.length>Mh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mh+") or object contains a cycle "+_n(t))}function _n(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends _g{static getInstance(){return new fu}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=1e3,d2=60*5*1e3,Lh=30*1e3,h2=1.3,f2=3e4,p2="server_kill",Fh=3;class xt extends gg{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=xt.nextPersistentConnectionId_++,this.log_=Yi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wr,this.maxReconnectDelay_=d2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!zm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&lo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(fe(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ki,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,c=l.s;xt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&_t(e,"w")){const r=wr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ne(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Jv(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Xv(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+fe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Wa("Unrecognized action received from server: "+fe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>f2&&(this.reconnectDelay_=Wr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*h2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+xt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},c=function(f){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:a,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?ge("getToken() completed but was canceled"):(ge("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new s2(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Ne(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(p2)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Ne(f),a())}}}interrupt(e){ge("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ge("Resuming connection for reason: "+e),delete this.interruptReasons_[e],fh(this.interruptReasons_)&&(this.reconnectDelay_=Wr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>lu(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new U(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ge("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fh&&(this.reconnectDelay_=Lh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ge("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ym.replace(/\./g,"-")]=1,Fm()?e["framework.cordova"]=1:Kv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lo.getInstance().currentlyOnline();return fh(this.interruptReasons_)&&e}}xt.nextPersistentConnectionId_=0;xt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new M(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new M(Dn,e),i=new M(Dn,n);return this.compare(r,i)!==0}minPost(){return M.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s;class wg extends Bo{static get __EMPTY_NODE(){return _s}static set __EMPTY_NODE(e){_s=e}compare(e,n){return $n(e.name,n.name)}isDefinedOn(e){throw Rr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return M.MIN}maxPost(){return new M(on,_s)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new M(e,_s)}toString(){return".key"}}const Nn=new wg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class de{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??de.RED,this.left=i??De.EMPTY_NODE,this.right=s??De.EMPTY_NODE}copy(e,n,r,i,s){return new de(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return De.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return De.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,de.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,de.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}de.RED=!0;de.BLACK=!1;class m2{copy(e,n,r,i,s){return this}insert(e,n,r){return new de(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class De{constructor(e,n=De.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new De(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,de.BLACK,null,null))}remove(e){return new De(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,de.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new vs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new vs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new vs(this.root_,null,this.comparator_,!0,e)}}De.EMPTY_NODE=new m2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){return $n(t.name,e.name)}function pu(t,e){return $n(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka;function _2(t){Ka=t}const Cg=function(t){return typeof t=="number"?"number:"+Zm(t):"string:"+t},Eg=function(t){if(t.isLeafNode()){const e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_t(e,".sv"),"Priority must be a string or number.")}else E(t===Ka||t.isEmpty(),"priority of unexpected type.");E(t===Ka||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh;class ce{static set __childrenNodeConstructor(e){zh=e}static get __childrenNodeConstructor(){return zh}constructor(e,n=ce.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Eg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ce(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ce.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return O(e)?this:j(e)===".priority"?this.priorityNode_:ce.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ce.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=j(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||ln(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ce.__childrenNodeConstructor.EMPTY_NODE.updateChild(H(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Cg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Zm(this.value_):e+=this.value_,this.lazyHash_=Xm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ce.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ce.__childrenNodeConstructor?-1:(E(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ce.VALUE_TYPE_ORDER.indexOf(n),s=ce.VALUE_TYPE_ORDER.indexOf(r);return E(i>=0,"Unknown leaf type: "+n),E(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ce.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg,xg;function v2(t){Sg=t}function y2(t){xg=t}class w2 extends Bo{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?$n(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return M.MIN}maxPost(){return new M(on,new ce("[PRIORITY-POST]",xg))}makePost(e,n){const r=Sg(e);return new M(n,new ce("[PRIORITY-POST]",r))}toString(){return".priority"}}const X=new w2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=Math.log(2);class E2{constructor(e){const n=s=>parseInt(Math.log(s)/C2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ao=function(t,e,n,r){t.sort(e);const i=function(a,c){const d=c-a;let f,h;if(d===0)return null;if(d===1)return f=t[a],h=n?n(f):f,new de(h,f.node,de.BLACK,null,null);{const _=parseInt(d/2,10)+a,v=i(a,_),y=i(_+1,c);return f=t[_],h=n?n(f):f,new de(h,f.node,de.BLACK,v,y)}},s=function(a){let c=null,d=null,f=t.length;const h=function(v,y){const R=f-v,m=f;f-=v;const p=i(R+1,m),g=t[R],w=n?n(g):g;_(new de(w,g.node,y,null,p))},_=function(v){c?(c.left=v,c=v):(d=v,c=v)};for(let v=0;v<a.count;++v){const y=a.nextBitIsOne(),R=Math.pow(2,a.count-(v+1));y?h(R,de.BLACK):(h(R,de.BLACK),h(R,de.RED))}return d},o=new E2(t.length),l=s(o);return new De(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll;const Wn={};class Et{static get Default(){return E(Wn&&X,"ChildrenNode.ts has not been loaded"),Ll=Ll||new Et({".priority":Wn},{".priority":X}),Ll}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=wr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof De?n:null}hasIndex(e){return _t(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Nn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(M.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=ao(r,e.getCompare()):l=Wn;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const d=Object.assign({},this.indexes_);return d[a]=l,new Et(d,c)}addToIndexes(e,n){const r=so(this.indexes_,(i,s)=>{const o=wr(this.indexSet_,s);if(E(o,"Missing index implementation for "+s),i===Wn)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(M.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),ao(l,o.getCompare())}else return Wn;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new M(e.name,l))),a.insert(e,e.node)}});return new Et(r,this.indexSet_)}removeFromIndexes(e,n){const r=so(this.indexes_,i=>{if(i===Wn)return i;{const s=n.get(e.name);return s?i.remove(new M(e.name,s)):i}});return new Et(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hr;class P{static get EMPTY_NODE(){return Hr||(Hr=new P(new De(pu),null,Et.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Eg(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hr}updatePriority(e){return this.children_.isEmpty()?this:new P(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Hr:n}}getChild(e){const n=j(e);return n===null?this:this.getImmediateChild(n).getChild(H(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(E(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new M(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Hr:this.priorityNode_;return new P(i,o,s)}}updateChild(e,n){const r=j(e);if(r===null)return n;{E(j(e)!==".priority"||ln(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(H(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(X,(o,l)=>{n[o]=l.val(e),r++,s&&P.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Cg(this.getPriority().val())+":"),this.forEachChild(X,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Xm(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new M(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new M(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new M(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,M.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,M.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qi?-1:0}withIndex(e){if(e===Nn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new P(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Nn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(X),i=n.getIterator(X);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Nn?null:this.indexMap_.get(e.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class S2 extends P{constructor(){super(new De(pu),P.EMPTY_NODE,Et.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return P.EMPTY_NODE}isEmpty(){return!1}}const qi=new S2;Object.defineProperties(M,{MIN:{value:new M(Dn,P.EMPTY_NODE)},MAX:{value:new M(on,qi)}});wg.__EMPTY_NODE=P.EMPTY_NODE;ce.__childrenNodeConstructor=P;_2(qi);y2(qi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=!0;function he(t,e=null){if(t===null)return P.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ce(n,he(e))}if(!(t instanceof Array)&&x2){const n=[];let r=!1;if(ye(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=he(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new M(o,a)))}}),n.length===0)return P.EMPTY_NODE;const s=ao(n,g2,o=>o.name,pu);if(r){const o=ao(n,X.getCompare());return new P(s,he(e),new Et({".priority":o},{".priority":X}))}else return new P(s,he(e),Et.Default)}else{let n=P.EMPTY_NODE;return ye(t,(r,i)=>{if(_t(t,r)&&r.substring(0,1)!=="."){const s=he(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(he(e))}}v2(he);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Bo{constructor(e){super(),this.indexPath_=e,E(!O(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?$n(e.name,n.name):s}makePost(e,n){const r=he(e),i=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new M(n,i)}maxPost(){const e=P.EMPTY_NODE.updateChild(this.indexPath_,qi);return new M(on,e)}toString(){return Mi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends Bo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?$n(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return M.MIN}maxPost(){return M.MAX}makePost(e,n){const r=he(e);return new M(n,r)}toString(){return".value"}}const kg=new k2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){return{type:"value",snapshotNode:t}}function Cr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function bi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Li(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function N2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(bi(n,l)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Cr(n,r)):o.trackChildChange(Li(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(X,(i,s)=>{n.hasChild(i)||r.trackChildChange(bi(i,s))}),n.isLeafNode()||n.forEachChild(X,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Li(i,s,o))}else r.trackChildChange(Cr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?P.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.indexedFilter_=new gu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fi.getStartPost_(e),this.endPost_=Fi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new M(n,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=P.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(P.EMPTY_NODE);const s=this;return n.forEachChild(X,(o,l)=>{s.matches(new M(o,l))||(i=i.updateImmediateChild(o,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new M(n,r))||(r=P.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=P.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(P.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,_)=>f(_,h)}else o=this.index_.getCompare();const l=e;E(l.numChildren()===this.limit_,"");const a=new M(n,r),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const f=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const _=h==null?1:o(h,a);if(d&&!r.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(Li(n,r,f)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(bi(n,f));const y=l.updateImmediateChild(n,P.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Cr(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return r.isEmpty()?e:d&&o(c,a)>=0?(s!=null&&(s.trackChildChange(bi(c.name,c.node)),s.trackChildChange(Cr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(c.name,P.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=X}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dn}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:on}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===X}copy(){const e=new _u;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function T2(t){return t.loadsAllData()?new gu(t.getIndex()):t.hasLimit()?new I2(t):new Fi(t)}function R2(t,e){const n=t.copy();return n.index_=e,n}function Bh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===X?n="$priority":t.index_===kg?n="$value":t.index_===Nn?n="$key":(E(t.index_ instanceof mu,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=fe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=fe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+fe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=fe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+fe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $h(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==X&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends gg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Yi("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=co.getListenId_(e,r),l={};this.listens_[o]=l;const a=Bh(e._queryParams);this.restRequest_(s+".json",a,(c,d)=>{let f=d;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),wr(this.listens_,o)===l){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=co.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Bh(e._queryParams),r=e._path.toString(),i=new Ki;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zv(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Pi(l.responseText)}catch{Ne("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ne("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return{value:null,children:new Map}}function Ig(t,e,n){if(O(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=j(e);t.children.has(r)||t.children.set(r,uo());const i=t.children.get(r);e=H(e),Ig(i,e,n)}}function Ga(t,e,n){t.value!==null?n(e,t.value):A2(t,(r,i)=>{const s=new U(e.toString()+"/"+r);Ga(i,s,n)})}function A2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ye(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=10*1e3,j2=30*1e3,O2=5*60*1e3;class M2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new D2(e);const r=Uh+(j2-Uh)*Math.random();ai(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ye(e,(i,s)=>{s>0&&_t(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ai(this.reportStats_.bind(this),Math.floor(Math.random()*2*O2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(st||(st={}));function vu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=st.ACK_USER_WRITE,this.source=vu()}operationForChild(e){if(O(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new U(e));return new ho(B(),n,this.revert)}}else return E(j(this.path)===e,"operationForChild called for unrelated child."),new ho(H(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.source=e,this.path=n,this.type=st.LISTEN_COMPLETE}operationForChild(e){return O(this.path)?new zi(this.source,B()):new zi(this.source,H(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=st.OVERWRITE}operationForChild(e){return O(this.path)?new jn(this.source,B(),this.snap.getImmediateChild(e)):new jn(this.source,H(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=st.MERGE}operationForChild(e){if(O(this.path)){const n=this.children.subtree(new U(e));return n.isEmpty()?null:n.value?new jn(this.source,B(),n.value):new Er(this.source,B(),n)}else return E(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Er(this.source,H(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(O(e))return this.isFullyInitialized()&&!this.filtered_;const n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function L2(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(N2(o.childName,o.snapshotNode))}),Kr(t,i,"child_removed",e,r,n),Kr(t,i,"child_added",e,r,n),Kr(t,i,"child_moved",s,r,n),Kr(t,i,"child_changed",e,r,n),Kr(t,i,"value",e,r,n),i}function Kr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>z2(t,l,a)),o.forEach(l=>{const a=F2(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function F2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function z2(t,e,n){if(e.childName==null||n.childName==null)throw Rr("Should only compare child_ events.");const r=new M(e.childName,e.snapshotNode),i=new M(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t,e){return{eventCache:t,serverCache:e}}function ci(t,e,n,r){return $o(new On(e,n,r),t.serverCache)}function Tg(t,e,n,r){return $o(t.eventCache,new On(e,n,r))}function Qa(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Mn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;const B2=()=>(Fl||(Fl=new De(kw)),Fl);class V{static fromObject(e){let n=new V(null);return ye(e,(r,i)=>{n=n.set(new U(r),i)}),n}constructor(e,n=B2()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:B(),value:this.value};if(O(e))return null;{const r=j(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(H(e),n);return s!=null?{path:te(new U(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(O(e))return this;{const n=j(e),r=this.children.get(n);return r!==null?r.subtree(H(e)):new V(null)}}set(e,n){if(O(e))return new V(n,this.children);{const r=j(e),s=(this.children.get(r)||new V(null)).set(H(e),n),o=this.children.insert(r,s);return new V(this.value,o)}}remove(e){if(O(e))return this.children.isEmpty()?new V(null):new V(null,this.children);{const n=j(e),r=this.children.get(n);if(r){const i=r.remove(H(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new V(null):new V(this.value,s)}else return this}}get(e){if(O(e))return this.value;{const n=j(e),r=this.children.get(n);return r?r.get(H(e)):null}}setTree(e,n){if(O(e))return n;{const r=j(e),s=(this.children.get(r)||new V(null)).setTree(H(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new V(this.value,o)}}fold(e){return this.fold_(B(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(te(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,B(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(O(e))return null;{const s=j(e),o=this.children.get(s);return o?o.findOnPath_(H(e),te(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,B(),n)}foreachOnPath_(e,n,r){if(O(e))return this;{this.value&&r(n,this.value);const i=j(e),s=this.children.get(i);return s?s.foreachOnPath_(H(e),te(n,i),r):new V(null)}}foreach(e){this.foreach_(B(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(te(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.writeTree_=e}static empty(){return new at(new V(null))}}function ui(t,e,n){if(O(e))return new at(new V(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Ae(i,e);return s=s.updateChild(o,n),new at(t.writeTree_.set(i,s))}else{const i=new V(n),s=t.writeTree_.setTree(e,i);return new at(s)}}}function Ya(t,e,n){let r=t;return ye(n,(i,s)=>{r=ui(r,te(e,i),s)}),r}function Vh(t,e){if(O(e))return at.empty();{const n=t.writeTree_.setTree(e,new V(null));return new at(n)}}function qa(t,e){return Un(t,e)!=null}function Un(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ae(n.path,e)):null}function Wh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(X,(r,i)=>{e.push(new M(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new M(r,i.value))}),e}function tn(t,e){if(O(e))return t;{const n=Un(t,e);return n!=null?new at(new V(n)):new at(t.writeTree_.subtree(e))}}function Xa(t){return t.writeTree_.isEmpty()}function Sr(t,e){return Rg(B(),t.writeTree_,e)}function Rg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(E(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Rg(te(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(te(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e){return jg(e,t)}function $2(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ui(t.visibleWrites,e,n)),t.lastWriteId=r}function U2(t,e,n,r){E(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ya(t.visibleWrites,e,n),t.lastWriteId=r}function V2(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function W2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&H2(l,r.path)?i=!1:Qe(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return K2(t),!0;if(r.snap)t.visibleWrites=Vh(t.visibleWrites,r.path);else{const l=r.children;ye(l,a=>{t.visibleWrites=Vh(t.visibleWrites,te(r.path,a))})}return!0}else return!1}function H2(t,e){if(t.snap)return Qe(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Qe(te(t.path,n),e))return!0;return!1}function K2(t){t.visibleWrites=Pg(t.allWrites,G2,B()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function G2(t){return t.visible}function Pg(t,e,n){let r=at.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Qe(n,o)?(l=Ae(n,o),r=ui(r,l,s.snap)):Qe(o,n)&&(l=Ae(o,n),r=ui(r,B(),s.snap.getChild(l)));else if(s.children){if(Qe(n,o))l=Ae(n,o),r=Ya(r,l,s.children);else if(Qe(o,n))if(l=Ae(o,n),O(l))r=Ya(r,B(),s.children);else{const a=wr(s.children,j(l));if(a){const c=a.getChild(H(l));r=ui(r,B(),c)}}}else throw Rr("WriteRecord should have .snap or .children")}}return r}function Ag(t,e,n,r,i){if(!r&&!i){const s=Un(t.visibleWrites,e);if(s!=null)return s;{const o=tn(t.visibleWrites,e);if(Xa(o))return n;if(n==null&&!qa(o,B()))return null;{const l=n||P.EMPTY_NODE;return Sr(o,l)}}}else{const s=tn(t.visibleWrites,e);if(!i&&Xa(s))return n;if(!i&&n==null&&!qa(s,B()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Qe(c.path,e)||Qe(e,c.path))},l=Pg(t.allWrites,o,e),a=n||P.EMPTY_NODE;return Sr(l,a)}}}function Q2(t,e,n){let r=P.EMPTY_NODE;const i=Un(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(X,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=tn(t.visibleWrites,e);return n.forEachChild(X,(o,l)=>{const a=Sr(tn(s,new U(o)),l);r=r.updateImmediateChild(o,a)}),Wh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=tn(t.visibleWrites,e);return Wh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Y2(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=te(e,n);if(qa(t.visibleWrites,s))return null;{const o=tn(t.visibleWrites,s);return Xa(o)?i.getChild(n):Sr(o,i.getChild(n))}}function q2(t,e,n,r){const i=te(e,n),s=Un(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=tn(t.visibleWrites,i);return Sr(o,r.getNode().getImmediateChild(n))}else return null}function X2(t,e){return Un(t.visibleWrites,e)}function J2(t,e,n,r,i,s,o){let l;const a=tn(t.visibleWrites,e),c=Un(a,B());if(c!=null)l=c;else if(n!=null)l=Sr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=o.getCompare(),h=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=h.getNext();for(;_&&d.length<i;)f(_,r)!==0&&d.push(_),_=h.getNext();return d}else return[]}function Z2(){return{visibleWrites:at.empty(),allWrites:[],lastWriteId:-1}}function fo(t,e,n,r){return Ag(t.writeTree,t.treePath,e,n,r)}function Eu(t,e){return Q2(t.writeTree,t.treePath,e)}function Hh(t,e,n,r){return Y2(t.writeTree,t.treePath,e,n,r)}function po(t,e){return X2(t.writeTree,te(t.treePath,e))}function eC(t,e,n,r,i,s){return J2(t.writeTree,t.treePath,e,n,r,i,s)}function Su(t,e,n){return q2(t.writeTree,t.treePath,e,n)}function Dg(t,e){return jg(te(t.treePath,e),t.writeTree)}function jg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Li(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,bi(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Cr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Li(r,e.snapshotNode,i.oldSnap));else throw Rr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Og=new nC;class xu{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new On(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Su(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mn(this.viewCache_),s=eC(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){return{filter:t}}function iC(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sC(t,e,n,r,i){const s=new tC;let o,l;if(n.type===st.OVERWRITE){const c=n;c.source.fromUser?o=Ja(t,e,c.path,c.snap,r,i,s):(E(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!O(c.path),o=mo(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===st.MERGE){const c=n;c.source.fromUser?o=lC(t,e,c.path,c.children,r,i,s):(E(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Za(t,e,c.path,c.children,r,i,l,s))}else if(n.type===st.ACK_USER_WRITE){const c=n;c.revert?o=uC(t,e,c.path,r,i,s):o=aC(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===st.LISTEN_COMPLETE)o=cC(t,e,n.path,r,s);else throw Rr("Unknown operation type: "+n.type);const a=s.getChanges();return oC(e,o,a),{viewCache:o,changes:a}}function oC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qa(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Ng(Qa(e)))}}function Mg(t,e,n,r,i,s){const o=e.eventCache;if(po(r,n)!=null)return e;{let l,a;if(O(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Mn(e),d=c instanceof P?c:P.EMPTY_NODE,f=Eu(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=fo(r,Mn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=j(n);if(c===".priority"){E(ln(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=e.serverCache.getNode();const f=Hh(r,n,d,a);f!=null?l=t.filter.updatePriority(d,f):l=o.getNode()}else{const d=H(n);let f;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const h=Hh(r,n,o.getNode(),a);h!=null?f=o.getNode().getImmediateChild(c).updateChild(d,h):f=o.getNode().getImmediateChild(c)}else f=Su(r,c,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),c,f,d,i,s):l=o.getNode()}}return ci(e,l,o.isFullyInitialized()||O(n),t.filter.filtersNodes())}}function mo(t,e,n,r,i,s,o,l){const a=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(O(n))c=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,r);c=d.updateFullNode(a.getNode(),_,null)}else{const _=j(n);if(!a.isCompleteForPath(n)&&ln(n)>1)return e;const v=H(n),R=a.getNode().getImmediateChild(_).updateChild(v,r);_===".priority"?c=d.updatePriority(a.getNode(),R):c=d.updateChild(a.getNode(),_,R,v,Og,null)}const f=Tg(e,c,a.isFullyInitialized()||O(n),d.filtersNodes()),h=new xu(i,f,s);return Mg(t,f,n,i,h,l)}function Ja(t,e,n,r,i,s,o){const l=e.eventCache;let a,c;const d=new xu(i,e,s);if(O(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=ci(e,c,!0,t.filter.filtersNodes());else{const f=j(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),a=ci(e,c,l.isFullyInitialized(),l.isFiltered());else{const h=H(n),_=l.getNode().getImmediateChild(f);let v;if(O(h))v=r;else{const y=d.getCompleteChild(f);y!=null?du(h)===".priority"&&y.getChild(vg(h)).isEmpty()?v=y:v=y.updateChild(h,r):v=P.EMPTY_NODE}if(_.equals(v))a=e;else{const y=t.filter.updateChild(l.getNode(),f,v,h,d,o);a=ci(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Kh(t,e){return t.eventCache.isCompleteForChild(e)}function lC(t,e,n,r,i,s,o){let l=e;return r.foreach((a,c)=>{const d=te(n,a);Kh(e,j(d))&&(l=Ja(t,l,d,c,i,s,o))}),r.foreach((a,c)=>{const d=te(n,a);Kh(e,j(d))||(l=Ja(t,l,d,c,i,s,o))}),l}function Gh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Za(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;O(n)?c=r:c=new V(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const _=e.serverCache.getNode().getImmediateChild(f),v=Gh(t,_,h);a=mo(t,a,new U(f),v,i,s,o,l)}}),c.children.inorderTraversal((f,h)=>{const _=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!_){const v=e.serverCache.getNode().getImmediateChild(f),y=Gh(t,v,h);a=mo(t,a,new U(f),y,i,s,o,l)}}),a}function aC(t,e,n,r,i,s,o){if(po(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(O(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return mo(t,e,n,a.getNode().getChild(n),i,s,l,o);if(O(n)){let c=new V(null);return a.getNode().forEachChild(Nn,(d,f)=>{c=c.set(new U(d),f)}),Za(t,e,n,c,i,s,l,o)}else return e}else{let c=new V(null);return r.foreach((d,f)=>{const h=te(n,d);a.isCompleteForPath(h)&&(c=c.set(d,a.getNode().getChild(h)))}),Za(t,e,n,c,i,s,l,o)}}function cC(t,e,n,r,i){const s=e.serverCache,o=Tg(e,s.getNode(),s.isFullyInitialized()||O(n),s.isFiltered());return Mg(t,o,n,r,Og,i)}function uC(t,e,n,r,i,s){let o;if(po(r,n)!=null)return e;{const l=new xu(r,e,i),a=e.eventCache.getNode();let c;if(O(n)||j(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=fo(r,Mn(e));else{const f=e.serverCache.getNode();E(f instanceof P,"serverChildren would be complete if leaf node"),d=Eu(r,f)}d=d,c=t.filter.updateFullNode(a,d,s)}else{const d=j(n);let f=Su(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=a.getImmediateChild(d)),f!=null?c=t.filter.updateChild(a,d,f,H(n),l,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(a,d,P.EMPTY_NODE,H(n),l,s):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=fo(r,Mn(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||po(r,B())!=null,ci(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new gu(r.getIndex()),s=T2(r);this.processor_=rC(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(P.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(P.EMPTY_NODE,l.getNode(),null),d=new On(a,o.isFullyInitialized(),i.filtersNodes()),f=new On(c,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=$o(f,d),this.eventGenerator_=new b2(this.query_)}get query(){return this.query_}}function hC(t){return t.viewCache_.serverCache.getNode()}function fC(t,e){const n=Mn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!O(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function Qh(t){return t.eventRegistrations_.length===0}function pC(t,e){t.eventRegistrations_.push(e)}function Yh(t,e,n){const r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function qh(t,e,n,r){e.type===st.MERGE&&e.source.queryId!==null&&(E(Mn(t.viewCache_),"We should always have a full cache before handling merges"),E(Qa(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=sC(t.processor_,i,e,n,r);return iC(t.processor_,s.viewCache),E(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,bg(t,s.changes,s.viewCache.eventCache.getNode(),null)}function mC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(X,(s,o)=>{r.push(Cr(s,o))}),n.isFullyInitialized()&&r.push(Ng(n.getNode())),bg(t,r,n.getNode(),e)}function bg(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return L2(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go;class gC{constructor(){this.views=new Map}}function _C(t){E(!go,"__referenceConstructor has already been defined"),go=t}function vC(){return E(go,"Reference.ts has not been loaded"),go}function yC(t){return t.views.size===0}function ku(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return E(s!=null,"SyncTree gave us an op for an invalid query."),qh(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(qh(o,e,n,r));return s}}function wC(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=fo(n,i?r:null),a=!1;l?a=!0:r instanceof P?(l=Eu(n,r),a=!1):(l=P.EMPTY_NODE,a=!1);const c=$o(new On(l,a,!1),new On(r,i,!1));return new dC(e,c)}return o}function CC(t,e,n,r,i,s){const o=wC(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),pC(o,n),mC(o,n)}function EC(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=an(t);if(i==="default")for(const[a,c]of t.views.entries())o=o.concat(Yh(c,n,r)),Qh(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||s.push(c.query));else{const a=t.views.get(i);a&&(o=o.concat(Yh(a,n,r)),Qh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!an(t)&&s.push(new(vC())(e._repo,e._path)),{removed:s,events:o}}function Lg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function hr(t,e){let n=null;for(const r of t.views.values())n=n||fC(r,e);return n}function Fg(t,e){if(e._queryParams.loadsAllData())return Uo(t);{const r=e._queryIdentifier;return t.views.get(r)}}function zg(t,e){return Fg(t,e)!=null}function an(t){return Uo(t)!=null}function Uo(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;function SC(t){E(!_o,"__referenceConstructor has already been defined"),_o=t}function xC(){return E(_o,"Reference.ts has not been loaded"),_o}let kC=1;class Xh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new V(null),this.pendingWriteTree_=Z2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bg(t,e,n,r,i){return $2(t.pendingWriteTree_,e,n,r,i),i?Ar(t,new jn(vu(),e,n)):[]}function NC(t,e,n,r){U2(t.pendingWriteTree_,e,n,r);const i=V.fromObject(n);return Ar(t,new Er(vu(),e,i))}function Vt(t,e,n=!1){const r=V2(t.pendingWriteTree_,e);if(W2(t.pendingWriteTree_,e)){let s=new V(null);return r.snap!=null?s=s.set(B(),!0):ye(r.children,o=>{s=s.set(new U(o),!0)}),Ar(t,new ho(r.path,s,n))}else return[]}function Vo(t,e,n){return Ar(t,new jn(yu(),e,n))}function IC(t,e,n){const r=V.fromObject(n);return Ar(t,new Er(yu(),e,r))}function TC(t,e){return Ar(t,new zi(yu(),e))}function RC(t,e,n){const r=Iu(t,n);if(r){const i=Tu(r),s=i.path,o=i.queryId,l=Ae(s,e),a=new zi(wu(o),l);return Ru(t,s,a)}else return[]}function ec(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||zg(o,e))){const a=EC(o,e,n,r);yC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=a.removed;if(l=a.events,!i){const d=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,_)=>an(_));if(d&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const _=DC(h);for(let v=0;v<_.length;++v){const y=_[v],R=y.query,m=Vg(t,y);t.listenProvider_.startListening(di(R),vo(t,R),m.hashFn,m.onComplete)}}}!f&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(di(e),null):c.forEach(h=>{const _=t.queryToTagMap.get(Wo(h));t.listenProvider_.stopListening(di(h),_)}))}jC(t,c)}return l}function PC(t,e,n,r){const i=Iu(t,r);if(i!=null){const s=Tu(i),o=s.path,l=s.queryId,a=Ae(o,e),c=new jn(wu(l),a,n);return Ru(t,o,c)}else return[]}function AC(t,e,n,r){const i=Iu(t,r);if(i){const s=Tu(i),o=s.path,l=s.queryId,a=Ae(o,e),c=V.fromObject(n),d=new Er(wu(l),a,c);return Ru(t,o,d)}else return[]}function Jh(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,_)=>{const v=Ae(h,i);s=s||hr(_,v),o=o||an(_)});let l=t.syncPointTree_.get(i);l?(o=o||an(l),s=s||hr(l,B())):(l=new gC,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=P.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((_,v)=>{const y=hr(v,B());y&&(s=s.updateImmediateChild(_,y))}));const c=zg(l,e);if(!c&&!e._queryParams.loadsAllData()){const h=Wo(e);E(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const _=OC();t.queryToTagMap.set(h,_),t.tagToQueryMap.set(_,h)}const d=Cu(t.pendingWriteTree_,i);let f=CC(l,e,n,d,s,a);if(!c&&!o&&!r){const h=Fg(l,e);f=f.concat(MC(t,e,h))}return f}function Nu(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ae(o,e),c=hr(l,a);if(c)return c});return Ag(i,e,s,n,!0)}function Ar(t,e){return $g(e,t.syncPointTree_,null,Cu(t.pendingWriteTree_,B()))}function $g(t,e,n,r){if(O(t.path))return Ug(t,e,n,r);{const i=e.get(B());n==null&&i!=null&&(n=hr(i,B()));let s=[];const o=j(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,d=Dg(r,o);s=s.concat($g(l,a,c,d))}return i&&(s=s.concat(ku(i,t,r,n))),s}}function Ug(t,e,n,r){const i=e.get(B());n==null&&i!=null&&(n=hr(i,B()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=Dg(r,o),d=t.operationForChild(o);d&&(s=s.concat(Ug(d,l,a,c)))}),i&&(s=s.concat(ku(i,t,r,n))),s}function Vg(t,e){const n=e.query,r=vo(t,n);return{hashFn:()=>(hC(e)||P.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?RC(t,n._path,r):TC(t,n._path);{const s=Tw(i,n);return ec(t,n,null,s)}}}}function vo(t,e){const n=Wo(e);return t.queryToTagMap.get(n)}function Wo(t){return t._path.toString()+"$"+t._queryIdentifier}function Iu(t,e){return t.tagToQueryMap.get(e)}function Tu(t){const e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new U(t.substr(0,e))}}function Ru(t,e,n){const r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");const i=Cu(t.pendingWriteTree_,e);return ku(r,n,i,null)}function DC(t){return t.fold((e,n,r)=>{if(n&&an(n))return[Uo(n)];{let i=[];return n&&(i=Lg(n)),ye(r,(s,o)=>{i=i.concat(o)}),i}})}function di(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xC())(t._repo,t._path):t}function jC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Wo(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function OC(){return kC++}function MC(t,e,n){const r=e._path,i=vo(t,e),s=Vg(t,n),o=t.listenProvider_.startListening(di(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)E(!an(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,d,f)=>{if(!O(c)&&d&&an(d))return[Uo(d).query];{let h=[];return d&&(h=h.concat(Lg(d).map(_=>_.query))),ye(f,(_,v)=>{h=h.concat(v)}),h}});for(let c=0;c<a.length;++c){const d=a[c];t.listenProvider_.stopListening(di(d),vo(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Pu(n)}node(){return this.node_}}class Au{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=te(this.path_,e);return new Au(this.syncTree_,n)}node(){return Nu(this.syncTree_,this.path_)}}const bC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Zh=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return LC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return FC(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},LC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},FC=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Wg=function(t,e,n,r){return Du(e,new Au(n,t),r)},Hg=function(t,e,n){return Du(t,new Pu(e),n)};function Du(t,e,n){const r=t.getPriority().val(),i=Zh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Zh(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new ce(l,he(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ce(i))),o.forEachChild(X,(l,a)=>{const c=Du(a,e.getImmediateChild(l),n);c!==a&&(s=s.updateImmediateChild(l,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ou(t,e){let n=e instanceof U?e:new U(e),r=t,i=j(n);for(;i!==null;){const s=wr(r.node.children,i)||{children:{},childCount:0};r=new ju(i,r,s),n=H(n),i=j(n)}return r}function Dr(t){return t.node.value}function Kg(t,e){t.node.value=e,tc(t)}function Gg(t){return t.node.childCount>0}function zC(t){return Dr(t)===void 0&&!Gg(t)}function Ho(t,e){ye(t.node.children,(n,r)=>{e(new ju(n,t,r))})}function Qg(t,e,n,r){n&&!r&&e(t),Ho(t,i=>{Qg(i,e,!0,r)}),n&&r&&e(t)}function BC(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Xi(t){return new U(t.parent===null?t.name:Xi(t.parent)+"/"+t.name)}function tc(t){t.parent!==null&&$C(t.parent,t.name,t)}function $C(t,e,n){const r=zC(n),i=_t(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,tc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,tc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=/[\[\].#$\/\u0000-\u001F\u007F]/,VC=/[\[\].#$\u0000-\u001F\u007F]/,zl=10*1024*1024,Mu=function(t){return typeof t=="string"&&t.length!==0&&!UC.test(t)},Yg=function(t){return typeof t=="string"&&t.length!==0&&!VC.test(t)},WC=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Yg(t)},nc=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!ou(t)||t&&typeof t=="object"&&_t(t,".sv")},qg=function(t,e,n,r){r&&e===void 0||Ko(Fo(t,"value"),e,n)},Ko=function(t,e,n){const r=n instanceof U?new a2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+_n(r));if(typeof e=="function")throw new Error(t+"contains a function "+_n(r)+" with contents = "+e.toString());if(ou(e))throw new Error(t+"contains "+e.toString()+" "+_n(r));if(typeof e=="string"&&e.length>zl/3&&zo(e)>zl)throw new Error(t+"contains a string greater than "+zl+" utf8 bytes "+_n(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ye(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Mu(o)))throw new Error(t+" contains an invalid key ("+o+") "+_n(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);c2(r,o),Ko(t,l,r),u2(r)}),i&&s)throw new Error(t+' contains ".value" child '+_n(r)+" in addition to actual children.")}},HC=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Mi(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Mu(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(l2);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Qe(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},KC=function(t,e,n,r){if(r&&e===void 0)return;const i=Fo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];ye(e,(o,l)=>{const a=new U(o);if(Ko(i,l,te(n,a)),du(a)===".priority"&&!nc(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),HC(i,s)},bu=function(t,e,n,r){if(!(r&&n===void 0)&&!Yg(n))throw new Error(Fo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GC=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bu(t,e,n,r)},Lu=function(t,e){if(j(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},QC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Mu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!WC(n))throw new Error(Fo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Go(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!hu(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Xg(t,e,n){Go(t,n),Jg(t,r=>hu(r,e))}function ut(t,e,n){Go(t,n),Jg(t,r=>Qe(r,e)||Qe(e,r))}function Jg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(qC(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qC(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();kn&&ge("event: "+n.toString()),Pr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="repo_interrupt",JC=25;class ZC{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uo(),this.transactionQueueTree_=new ju,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function eE(t,e,n){if(t.stats_=cu(t.repoInfo_),t.forceRestClient_||Dw())t.server_=new co(t.repoInfo_,(r,i,s,o)=>{ef(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tf(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xt(t.repoInfo_,e,(r,i,s,o)=>{ef(t,r,i,s,o)},r=>{tf(t,r)},r=>{tE(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Lw(t.repoInfo_,()=>new M2(t.stats_,t.server_)),t.infoData_=new P2,t.infoSyncTree_=new Xh({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Vo(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Fu(t,"connected",!1),t.serverSyncTree_=new Xh({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const c=o(l,a);ut(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Zg(t){const n=t.infoData_.getNode(new U(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qo(t){return bC({timestamp:Zg(t)})}function ef(t,e,n,r,i){t.dataUpdateCount++;const s=new U(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=so(n,c=>he(c));o=AC(t.serverSyncTree_,s,a,i)}else{const a=he(n);o=PC(t.serverSyncTree_,s,a,i)}else if(r){const a=so(n,c=>he(c));o=IC(t.serverSyncTree_,s,a)}else{const a=he(n);o=Vo(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=xr(t,s)),ut(t.eventQueue_,l,o)}function tf(t,e){Fu(t,"connected",e),e===!1&&iE(t)}function tE(t,e){ye(e,(n,r)=>{Fu(t,n,r)})}function Fu(t,e,n){const r=new U("/.info/"+e),i=he(n);t.infoData_.updateSnapshot(r,i);const s=Vo(t.infoSyncTree_,r,i);ut(t.eventQueue_,r,s)}function zu(t){return t.nextWriteId_++}function nE(t,e,n,r,i){Yo(t,"set",{path:e.toString(),value:n,priority:r});const s=Qo(t),o=he(n,r),l=Nu(t.serverSyncTree_,e),a=Hg(o,l,s),c=zu(t),d=Bg(t.serverSyncTree_,e,a,c,!0);Go(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(h,_)=>{const v=h==="ok";v||Ne("set at "+e+" failed: "+h);const y=Vt(t.serverSyncTree_,c,!v);ut(t.eventQueue_,e,y),rc(t,i,h,_)});const f=$u(t,e);xr(t,f),ut(t.eventQueue_,f,[])}function rE(t,e,n,r){Yo(t,"update",{path:e.toString(),value:n});let i=!0;const s=Qo(t),o={};if(ye(n,(l,a)=>{i=!1,o[l]=Wg(te(e,l),he(a),t.serverSyncTree_,s)}),i)ge("update() called with empty data.  Don't do anything."),rc(t,r,"ok",void 0);else{const l=zu(t),a=NC(t.serverSyncTree_,e,o,l);Go(t.eventQueue_,a),t.server_.merge(e.toString(),n,(c,d)=>{const f=c==="ok";f||Ne("update at "+e+" failed: "+c);const h=Vt(t.serverSyncTree_,l,!f),_=h.length>0?xr(t,e):e;ut(t.eventQueue_,_,h),rc(t,r,c,d)}),ye(n,c=>{const d=$u(t,te(e,c));xr(t,d)}),ut(t.eventQueue_,e,[])}}function iE(t){Yo(t,"onDisconnectEvents");const e=Qo(t),n=uo();Ga(t.onDisconnect_,B(),(i,s)=>{const o=Wg(i,s,t.serverSyncTree_,e);Ig(n,i,o)});let r=[];Ga(n,B(),(i,s)=>{r=r.concat(Vo(t.serverSyncTree_,i,s));const o=$u(t,i);xr(t,o)}),t.onDisconnect_=uo(),ut(t.eventQueue_,B(),r)}function sE(t,e,n){let r;j(e._path)===".info"?r=Jh(t.infoSyncTree_,e,n):r=Jh(t.serverSyncTree_,e,n),Xg(t.eventQueue_,e._path,r)}function nf(t,e,n){let r;j(e._path)===".info"?r=ec(t.infoSyncTree_,e,n):r=ec(t.serverSyncTree_,e,n),Xg(t.eventQueue_,e._path,r)}function oE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(XC)}function Yo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ge(n,...e)}function rc(t,e,n,r){e&&Pr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function e1(t,e,n){return Nu(t.serverSyncTree_,e,n)||P.EMPTY_NODE}function Bu(t,e=t.transactionQueueTree_){if(e||qo(t,e),Dr(e)){const n=n1(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&lE(t,Xi(e),n)}else Gg(e)&&Ho(e,n=>{Bu(t,n)})}function lE(t,e,n){const r=n.map(c=>c.currentWriteId),i=e1(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];E(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Ae(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Yo(t,"transaction put response",{path:a.toString(),status:c});let d=[];if(c==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Vt(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();qo(t,Ou(t.transactionQueueTree_,e)),Bu(t,t.transactionQueueTree_),ut(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)Pr(f[h])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Ne("transaction at "+a.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}xr(t,e)}},o)}function xr(t,e){const n=t1(t,e),r=Xi(n),i=n1(t,n);return aE(t,i,r),r}function aE(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Ae(n,a.path);let d=!1,f;if(E(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,f=a.abortReason,i=i.concat(Vt(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=JC)d=!0,f="maxretry",i=i.concat(Vt(t.serverSyncTree_,a.currentWriteId,!0));else{const h=e1(t,a.path,o);a.currentInputSnapshot=h;const _=e[l].update(h.val());if(_!==void 0){Ko("transaction failed: Data returned ",_,a.path);let v=he(_);typeof _=="object"&&_!=null&&_t(_,".priority")||(v=v.updatePriority(h.getPriority()));const R=a.currentWriteId,m=Qo(t),p=Hg(v,h,m);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=zu(t),o.splice(o.indexOf(R),1),i=i.concat(Bg(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(Vt(t.serverSyncTree_,R,!0))}else d=!0,f="nodata",i=i.concat(Vt(t.serverSyncTree_,a.currentWriteId,!0))}ut(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}qo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Pr(r[l]);Bu(t,t.transactionQueueTree_)}function t1(t,e){let n,r=t.transactionQueueTree_;for(n=j(e);n!==null&&Dr(r)===void 0;)r=Ou(r,n),e=H(e),n=j(e);return r}function n1(t,e){const n=[];return r1(t,e,n),n.sort((r,i)=>r.order-i.order),n}function r1(t,e,n){const r=Dr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ho(e,i=>{r1(t,i,n)})}function qo(t,e){const n=Dr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Kg(e,n.length>0?n:void 0)}Ho(e,r=>{qo(t,r)})}function $u(t,e){const n=Xi(t1(t,e)),r=Ou(t.transactionQueueTree_,e);return BC(r,i=>{Bl(t,i)}),Bl(t,r),Qg(r,i=>{Bl(t,i)}),n}function Bl(t,e){const n=Dr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Vt(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Kg(e,void 0):n.length=s+1,ut(t.eventQueue_,Xi(e),i);for(let o=0;o<r.length;o++)Pr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function uE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ne(`Invalid query segment '${n}' in query '${t}'`)}return e}const rf=function(t,e){const n=dE(t),r=n.namespace;n.domain==="firebase.com"&&At(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&At("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Sw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new U(n.pathString)}},dE=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=cE(t.substring(d,f)));const h=uE(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const _=e.slice(0,c);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hE=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=sf.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=sf.charAt(e[i]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+fe(this.snapshot.exportVal())}}class s1{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return O(this._path)?null:du(this._path)}get ref(){return new Ot(this._repo,this._path)}get _queryIdentifier(){const e=$h(this._queryParams),n=lu(e);return n==="{}"?"default":n}get _queryObject(){return $h(this._queryParams)}isEqual(e){if(e=jt(e),!(e instanceof Xo))return!1;const n=this._repo===e._repo,r=hu(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+o2(this._path)}}function pE(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function mE(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Nn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Dn)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==on)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===X){if(e!=null&&!nc(e)||n!=null&&!nc(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(E(t.getIndex()instanceof mu||t.getIndex()===kg,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class Ot extends Xo{constructor(e,n){super(e,n,new _u,!1)}get parent(){const e=vg(this._path);return e===null?null:new Ot(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Bi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new U(e),r=kr(this.ref,e);return new Bi(this._node.getChild(n),r,X)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Bi(i,kr(this.ref,r),X)))}hasChild(e){const n=new U(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ys(t,e){return t=jt(t),t._checkNotDeleted("ref"),e!==void 0?kr(t._root,e):t._root}function kr(t,e){return t=jt(t),j(t._path)===null?GC("child","path",e,!1):bu("child","path",e,!1),new Ot(t._repo,te(t._path,e))}function gE(t,e){t=jt(t),Lu("push",t._path),qg("push",e,t._path,!0);const n=Zg(t._repo),r=hE(n),i=kr(t,r),s=kr(t,r);let o;return e!=null?o=o1(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function _E(t){return Lu("remove",t._path),o1(t,null)}function o1(t,e){t=jt(t),Lu("set",t._path),qg("set",e,t._path,!1);const n=new Ki;return nE(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function vE(t,e){KC("update",e,t._path,!1);const n=new Ki;return rE(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Uu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new i1("value",this,new Bi(e.snapshotNode,new Ot(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new s1(this,e,n):null}matches(e){return e instanceof Uu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Vu{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new s1(this,e,n):null}createEvent(e,n){E(e.childName!=null,"Child events should have a childName.");const r=kr(new Ot(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new i1(e.type,this,new Bi(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Vu?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function yE(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,c=(d,f)=>{nf(t._repo,t,l),a(d,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new fE(n,s||void 0),l=e==="value"?new Uu(o):new Vu(e,o);return sE(t._repo,t,l),()=>nf(t._repo,t,l)}function wE(t,e,n,r){return yE(t,"value",e,n,r)}class CE{}class EE extends CE{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){pE(e,"orderByChild");const n=new U(this._path);if(O(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new mu(n),i=R2(e._queryParams,r);return mE(i),new Xo(e._repo,e._path,i,!0)}}function SE(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return bu("orderByChild","path",t,!1),new EE(t)}function xE(t,...e){let n=jt(t);for(const r of e)n=r._apply(n);return n}_C(Ot);SC(Ot);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FIREBASE_DATABASE_EMULATOR_HOST",ic={};let NE=!1;function IE(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=nu(s);t.repoInfo_=new cg(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function TE(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||At("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ge("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=rf(s,i),l=o.repoInfo,a,c;typeof process<"u"&&process.env&&(c=process.env[kE]),c?(a=!0,s=`http://${c}?ns=${l.namespace}`,o=rf(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const d=i&&a?new dr(dr.OWNER):new Ow(t.name,t.options,e);QC("Invalid Firebase Database URL",o),O(o.path)||At("Database URL must point to the root of a Firebase Database (not including a child path).");const f=PE(l,t,d,new jw(t,n));return new AE(f,t)}function RE(t,e){const n=ic[e];(!n||n[t.key]!==t)&&At(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oE(t),delete n[t.key]}function PE(t,e,n,r){let i=ic[e.name];i||(i={},ic[e.name]=i);let s=i[t.toURLString()];return s&&At("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ZC(t,NE,n,r),i[t.toURLString()]=s,s}class AE{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ot(this._repo,B())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&At("Cannot call "+e+" on a deleted database.")}}function DE(t=su(),e){const n=Gi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Fv("database");r&&jE(n,...r)}return n}function jE(t,e,n,r={}){t=jt(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Ai(r,s.repoInfo_.emulatorOptions))return;At("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&At('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new dr(dr.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:Bv(r.mockUserToken,t.app.options.projectId);o=new dr(l)}nu(e)&&(zv(e),Vv("Database",!0)),IE(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){vw(iw),sn(new Rt("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return TE(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),gt(xh,kh,t),gt(xh,kh,"esm2017")}xt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};OE();const l1="@firebase/installations",Wu="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=1e4,c1=`w:${Wu}`,u1="FIS_v2",ME="https://firebaseinstallations.googleapis.com/v1",bE=60*60*1e3,LE="installations",FE="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bn=new Lo(LE,FE,zE);function d1(t){return t instanceof Bn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1({projectId:t}){return`${ME}/projects/${t}/installations`}function f1(t){return{token:t.token,requestStatus:2,expiresIn:$E(t.expiresIn),creationTime:Date.now()}}async function p1(t,e){const r=(await e.json()).error;return bn.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function m1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BE(t,{refreshToken:e}){const n=m1(t);return n.append("Authorization",UE(e)),n}async function g1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $E(t){return Number(t.replace("s","000"))}function UE(t){return`${u1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=h1(t),i=m1(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:u1,appId:t.appId,sdkVersion:c1},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await g1(()=>fetch(r,l));if(a.ok){const c=await a.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:f1(c.authToken)}}else throw await p1("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=/^[cdef][\w-]{21}$/,sc="";function KE(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=GE(t);return HE.test(n)?n:sc}catch{return sc}}function GE(t){return WE(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;function y1(t,e){const n=Jo(t);w1(n,e),QE(n,e)}function w1(t,e){const n=v1.get(t);if(n)for(const r of n)r(e)}function QE(t,e){const n=YE();n&&n.postMessage({key:t,fid:e}),qE()}let En=null;function YE(){return!En&&"BroadcastChannel"in self&&(En=new BroadcastChannel("[Firebase] FID Change"),En.onmessage=t=>{w1(t.data.key,t.data.fid)}),En}function qE(){v1.size===0&&En&&(En.close(),En=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebase-installations-database",JE=1,Ln="firebase-installations-store";let $l=null;function Hu(){return $l||($l=Hm(XE,JE,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ln)}}})),$l}async function yo(t,e){const n=Jo(t),i=(await Hu()).transaction(Ln,"readwrite"),s=i.objectStore(Ln),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&y1(t,e.fid),e}async function C1(t){const e=Jo(t),r=(await Hu()).transaction(Ln,"readwrite");await r.objectStore(Ln).delete(e),await r.done}async function Zo(t,e){const n=Jo(t),i=(await Hu()).transaction(Ln,"readwrite"),s=i.objectStore(Ln),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&y1(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t){let e;const n=await Zo(t.appConfig,r=>{const i=ZE(r),s=eS(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===sc?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZE(t){const e=t||{fid:KE(),registrationStatus:0};return E1(e)}function eS(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(bn.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tS(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nS(t)}:{installationEntry:e}}async function tS(t,e){try{const n=await VE(t,e);return yo(t.appConfig,n)}catch(n){throw d1(n)&&n.customData.serverCode===409?await C1(t.appConfig):await yo(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nS(t){let e=await of(t.appConfig);for(;e.registrationStatus===1;)await _1(100),e=await of(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ku(t);return r||n}return e}function of(t){return Zo(t,e=>{if(!e)throw bn.create("installation-not-found");return E1(e)})}function E1(t){return rS(t)?{fid:t.fid,registrationStatus:0}:t}function rS(t){return t.registrationStatus===1&&t.registrationTime+a1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS({appConfig:t,heartbeatServiceProvider:e},n){const r=sS(t,n),i=BE(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:c1,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await g1(()=>fetch(r,l));if(a.ok){const c=await a.json();return f1(c)}else throw await p1("Generate Auth Token",a)}function sS(t,{fid:e}){return`${h1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t,e=!1){let n;const r=await Zo(t.appConfig,s=>{if(!S1(s))throw bn.create("not-registered");const o=s.authToken;if(!e&&aS(o))return s;if(o.requestStatus===1)return n=oS(t,e),s;{if(!navigator.onLine)throw bn.create("app-offline");const l=uS(s);return n=lS(t,l),l}});return n?await n:r.authToken}async function oS(t,e){let n=await lf(t.appConfig);for(;n.authToken.requestStatus===1;)await _1(100),n=await lf(t.appConfig);const r=n.authToken;return r.requestStatus===0?Gu(t,e):r}function lf(t){return Zo(t,e=>{if(!S1(e))throw bn.create("not-registered");const n=e.authToken;return dS(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function lS(t,e){try{const n=await iS(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await yo(t.appConfig,r),n}catch(n){if(d1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await C1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yo(t.appConfig,r)}throw n}}function S1(t){return t!==void 0&&t.registrationStatus===2}function aS(t){return t.requestStatus===2&&!cS(t)}function cS(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bE}function uS(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dS(t){return t.requestStatus===1&&t.requestTime+a1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ku(e);return r?r.catch(console.error):Gu(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t,e=!1){const n=t;return await pS(n),(await Gu(n,e)).token}async function pS(t){const{registrationPromise:e}=await Ku(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){if(!t||!t.options)throw Ul("App Configuration");if(!t.name)throw Ul("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ul(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ul(t){return bn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="installations",gS="installations-internal",_S=t=>{const e=t.getProvider("app").getImmediate(),n=mS(e),r=Gi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vS=t=>{const e=t.getProvider("app").getImmediate(),n=Gi(e,x1).getImmediate();return{getId:()=>hS(n),getToken:i=>fS(n,i)}};function yS(){sn(new Rt(x1,_S,"PUBLIC")),sn(new Rt(gS,vS,"PRIVATE"))}yS();gt(l1,Wu);gt(l1,Wu,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="analytics",wS="firebase_id",CS="origin",ES=60*1e3,SS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qu="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=new ru("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Be=new Lo("analytics","Analytics",xS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){if(!t.startsWith(Qu)){const e=Be.create("invalid-gtag-resource",{gtagURL:t});return be.warn(e.message),""}return t}function k1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function NS(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function IS(t,e){const n=NS("firebase-js-sdk-policy",{createScriptURL:kS}),r=document.createElement("script"),i=`${Qu}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function TS(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function RS(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const a=(await k1(n)).find(c=>c.measurementId===i);a&&await e[a.appId]}}catch(l){be.error(l)}t("config",i,s)}async function PS(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await k1(n);for(const a of o){const c=l.find(f=>f.measurementId===a),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){be.error(s)}}function AS(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,a]=o;await PS(t,e,n,l,a)}else if(s==="config"){const[l,a]=o;await RS(t,e,n,r,l,a)}else if(s==="consent"){const[l,a]=o;t("consent",l,a)}else if(s==="get"){const[l,a,c]=o;t("get",l,a,c)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){be.error(l)}}return i}function DS(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=AS(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function jS(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qu)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=30,MS=1e3;class bS{constructor(e={},n=MS){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const N1=new bS;function LS(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FS(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:LS(r)},s=SS.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const a=await o.json();!((e=a.error)===null||e===void 0)&&e.message&&(l=a.error.message)}catch{}throw Be.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function zS(t,e=N1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Be.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Be.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new US;return setTimeout(async()=>{l.abort()},n!==void 0?n:ES),I1({appId:r,apiKey:i,measurementId:s},o,l,e)}async function I1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=N1){var s;const{appId:o,measurementId:l}=t;try{await BS(r,e)}catch(a){if(l)return be.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${a==null?void 0:a.message}]`),{appId:o,measurementId:l};throw a}try{const a=await FS(t);return i.deleteThrottleMetadata(o),a}catch(a){const c=a;if(!$S(c)){if(i.deleteThrottleMetadata(o),l)return be.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw a}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?mh(n,i.intervalMillis,OS):mh(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,f),be.debug(`Calling attemptFetch again in ${d} millis`),I1(t,f,r,i)}}function BS(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Be.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $S(t){if(!(t instanceof Bn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class US{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function VS(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(){if(Bm())try{await $m()}catch(t){return be.warn(Be.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return be.warn(Be.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HS(t,e,n,r,i,s,o){var l;const a=zS(t);a.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&be.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>be.error(_)),e.push(a);const c=WS().then(_=>{if(_)return r.getId()}),[d,f]=await Promise.all([a,c]);jS(s)||IS(s,d.measurementId),i("js",new Date);const h=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return h[CS]="firebase",h.update=!0,f!=null&&(h[wS]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.app=e}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},af=[];const cf={};let Vl="dataLayer",GS="gtag",uf,T1,df=!1;function QS(){const t=[];if(Hv()&&t.push("This is a browser extension environment."),Gv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Be.create("invalid-analytics-context",{errorInfo:e});be.warn(n.message)}}function YS(t,e,n){QS();const r=t.options.appId;if(!r)throw Be.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)be.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Be.create("no-api-key");if(hi[r]!=null)throw Be.create("already-exists",{id:r});if(!df){TS(Vl);const{wrappedGtag:s,gtagCore:o}=DS(hi,af,cf,Vl,GS);T1=s,uf=o,df=!0}return hi[r]=HS(t,af,cf,e,uf,Vl,n),new KS(t)}function qS(t=su()){t=jt(t);const e=Gi(t,wo);return e.isInitialized()?e.getImmediate():XS(t)}function XS(t,e={}){const n=Gi(t,wo);if(n.isInitialized()){const i=n.getImmediate();if(Ai(e,n.getOptions()))return i;throw Be.create("already-initialized")}return n.initialize({options:e})}function JS(t,e,n,r){t=jt(t),VS(T1,hi[t.app.options.appId],e,n,r).catch(i=>be.error(i))}const hf="@firebase/analytics",ff="0.10.16";function ZS(){sn(new Rt(wo,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return YS(r,i,n)},"PUBLIC")),sn(new Rt("analytics-internal",t,"PRIVATE")),gt(hf,ff),gt(hf,ff,"esm2017");function t(e){try{const n=e.getProvider(wo).getImmediate();return{logEvent:(r,i,s)=>JS(n,r,i,s)}}catch(n){throw Be.create("interop-component-reg-failed",{reason:n})}}}ZS();const ex={apiKey:"AIzaSyA0UlTqYYT3sKI3LFehxEjeS2mh3ok5qJs",authDomain:"wedding-f8487.firebaseapp.com",projectId:"wedding-f8487",storageBucket:"wedding-f8487.firebasestorage.app",messagingSenderId:"991693774575",appId:"1:991693774575:web:893a302c14131e9d32851a",measurementId:"G-898LXP31TN"};let Xr,Ft,pf;try{Xr=sw().length?su():Km(ex),Ft=DE(Xr),pf=qS(Xr)}catch(t){console.error("Firebase 초기화 중 오류 발생:",t),Xr=null,Ft=null,pf=null}const oc=Xr!==null;oc||console.warn("Firebase 초기화에 실패했습니다. 방명록 기능이 비활성화됩니다.");const tx=()=>{const[t,e]=z.useState([]),[n,r]=z.useState(!1),[i,s]=z.useState(null),[o,l]=z.useState(!0),[a,c]=z.useState(null),[d,f]=z.useState({name:"",message:"",password:""});z.useEffect(()=>{if(!oc||!Ft){l(!1),c("Firebase가 설정되지 않았습니다. 방명록 기능을 사용할 수 없습니다.");return}const m=ys(Ft,"guestbook"),p=xE(m,SE("timestamp")),g=wE(p,w=>{const S=w.val();if(S){const I=Object.keys(S).map(N=>({id:N,...S[N]})).sort((N,T)=>T.timestamp-N.timestamp);e(I)}else e([]);l(!1),c(null)},w=>{console.error("Firebase 데이터 로드 오류:",w),c("방명록을 불러오는데 실패했습니다."),l(!1)});return()=>g()},[]);const h=()=>{r(!0),s(null),f({name:"",message:"",password:""})},_=m=>{const p=prompt("비밀번호를 입력하세요:");p===m.password||!m.password&&p===""?(s(m.id),r(!0),f({name:m.name,message:m.message,password:m.password||""})):alert("비밀번호가 일치하지 않습니다.")},v=async m=>{const p=prompt("비밀번호를 입력하세요:");if(p===m.password||!m.password&&p===""){if(confirm("정말 삭제하시겠습니까?"))try{const g=ys(Ft,`guestbook/${m.id}`);await _E(g)}catch(g){console.error("삭제 오류:",g),alert("삭제에 실패했습니다. 다시 시도해주세요.")}}else alert("비밀번호가 일치하지 않습니다.")},y=async m=>{if(m.preventDefault(),!oc||!Ft){alert("Firebase가 설정되지 않아 방명록 기능을 사용할 수 없습니다.");return}if(!d.name.trim()||!d.message.trim()){alert("이름과 메시지를 입력해주세요.");return}const p=new Date,g=p.getTime(),w=`${p.getFullYear().toString().slice(2)}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")} ${String(p.getHours()).padStart(2,"0")}:${String(p.getMinutes()).padStart(2,"0")}`;try{if(i){const S=ys(Ft,`guestbook/${i}`);await vE(S,{name:d.name.trim(),message:d.message.trim(),password:d.password})}else{const S=ys(Ft,"guestbook");await gE(S,{name:d.name.trim(),message:d.message.trim(),date:w,timestamp:g,password:d.password})}f({name:"",message:"",password:""}),r(!1),s(null)}catch(S){console.error("저장 오류:",S),alert("저장에 실패했습니다. 다시 시도해주세요.")}},R=()=>{r(!1),s(null),f({name:"",message:"",password:""})};return u.jsxs("section",{className:"guestbook-section",children:[u.jsxs("div",{className:"section-box",children:[u.jsx("h2",{className:"section-title",children:"Guest book"}),u.jsx("h1",{className:"subtitle",children:"방명록"}),u.jsx("div",{className:"section-line-div",children:u.jsx("hr",{className:"section-line"})}),u.jsxs("div",{className:"description",children:[u.jsx("p",{children:"따뜻한 마음이 담긴 축하의 글을 남겨주시면"}),u.jsx("p",{children:"소중한 추억으로 간직하겠습니다."})]})]}),u.jsx("div",{className:"section-guestbook-area-1",children:u.jsxs("div",{className:"guestbook-container",children:[o&&u.jsx("div",{className:"loading-message",children:u.jsx("p",{children:"방명록을 불러오는 중..."})}),a&&u.jsxs("div",{className:"error-message",children:[u.jsx("p",{children:a}),u.jsx("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"다시 시도"})]}),!o&&!a&&!n&&u.jsx("div",{className:"guestbook-write-button",children:u.jsx("div",{className:"style-button3 write-button",onClick:h,children:u.jsx("span",{children:"글쓰기"})})}),n&&u.jsxs("form",{className:"guestbook-form",onSubmit:y,children:[u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",placeholder:"이름",value:d.name,onChange:m=>f({...d,name:m.target.value}),maxLength:20,required:!0})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"password",placeholder:"비밀번호 (수정/삭제시 필요)",value:d.password,onChange:m=>f({...d,password:m.target.value}),maxLength:20})}),u.jsx("div",{className:"form-group",children:u.jsx("textarea",{placeholder:"축하 메시지를 남겨주세요",value:d.message,onChange:m=>f({...d,message:m.target.value}),maxLength:200,rows:4,required:!0})}),u.jsxs("div",{className:"form-buttons",children:[u.jsx("button",{type:"submit",className:"submit-button",children:i?"수정하기":"등록하기"}),u.jsx("button",{type:"button",className:"cancel-button",onClick:R,children:"취소"})]})]}),u.jsx("ul",{className:"board-list",children:t.map(m=>u.jsx("li",{className:"guestbook-item",children:u.jsxs("div",{className:"guestbook-content",children:[u.jsxs("div",{className:"guestbook-header",children:[u.jsx("span",{className:"nameleading",children:m.name}),u.jsxs("div",{className:"guestbook-edit-button",children:[u.jsx("button",{className:"edit-btn",onClick:()=>_(m),children:u.jsx("span",{children:"수정"})}),u.jsx("button",{className:"delete-btn",onClick:()=>v(m),children:u.jsx("span",{children:"삭제"})})]})]}),u.jsx("div",{className:"guestbook-message",children:u.jsx("div",{className:"message-text",children:m.message})}),u.jsx("div",{className:"guestbook-footer",children:u.jsx("span",{className:"guestbookdate",children:u.jsx("span",{children:m.date})})})]})},m.id))})]})})]})};const nx=()=>u.jsxs("section",{className:"cover-section",children:[u.jsx("div",{className:"cover-effects",children:u.jsx("img",{src:"https://cdn2.makedear.com/homepage/img/effect/new1/1.png",alt:"",className:"effect-overlay"})}),u.jsxs("div",{className:"cover-names",children:[u.jsx("div",{className:"name-left",children:"KANG SOON WON"}),u.jsx("div",{className:"name-right",children:"KANG SOON TWO"})]}),u.jsxs("div",{className:"cover-content",children:[u.jsxs("div",{className:"main-title",children:["We are",u.jsx("br",{}),"getting married"]}),u.jsx("div",{className:"wedding-date",children:"JAN 10, 2026"}),u.jsxs("div",{className:"wedding-message",children:[u.jsx("p",{children:"We, who have similar smiles, are getting married."}),u.jsx("p",{children:"Holding onto each other's clasped hands lightly we promise to live happily ever after."})]})]}),u.jsxs("div",{className:"cover-image-container",children:[u.jsx("div",{className:"noise-overlay"}),u.jsx("img",{src:"./images/cover.PNG",alt:"Wedding Cover",className:"cover-main-image"}),u.jsx("div",{className:"blend-overlay"})]})]});const rx=()=>u.jsxs("section",{className:"invitation-message-section",children:[u.jsx("div",{className:"wavebg",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 65",preserveAspectRatio:"xMidYMid meet",children:[u.jsx("g",{fill:"#f9f9f9",stroke:"none",transform:"translate(0,65) scale(0.1,-0.1)",children:u.jsx("path",{d:"M6470 629 c-1061 -34 -2002 -142 -3561 -408 -675 -115 -1198 -174 -1899 -214 -30 -2 2755 -3 6190 -3 3435 0 6225 1 6200 3 -25 1 -126 7 -225 13 -536 32 -1103 100 -1740 210 -737 127 -1570 247 -2110 305 -835 89 -1920 125 -2855 94z"})}),u.jsxs("g",{fill:"#f9f9f9",stroke:"none",transform:"translate(0,65) scale(0.1,-0.1)",className:"opacity-50",children:[u.jsx("path",{d:"M0 322 l0 -322 3073 1 c1689 1 3018 5 2952 10 -705 47 -1210 110 -1970 245 -324 57 -1231 193 -1590 238 -665 83 -1301 126 -2117 142 l-348 7 0 -321z"}),u.jsx("path",{d:"M13880 633 c-743 -17 -1425 -69 -2105 -159 -340 -45 -1173 -172 -1460 -223 -763 -135 -1251 -194 -2020 -244 -27 -2 1335 -4 3028 -5 l3077 -2 0 320 0 320 -207 -2 c-115 -1 -255 -3 -313 -5z"})]})]})}),u.jsx("h2",{className:"section-label",children:u.jsx("div",{children:"Invite you"})}),u.jsx("div",{className:"section-post-paragraph-area",children:u.jsxs("div",{className:"message-content",children:[u.jsx("p",{children:"웃는 모습이 예쁜 그녀와"}),u.jsx("p",{children:"그 웃는 모습을 유난히 좋아하는 그"}),u.jsx("p",{children:"시간이 흘러 언제나 함께 웃을 수 있는 하나가 되려 합니다."}),u.jsx("p",{children:"귀한 걸음 하시어 축복해 주시면"}),u.jsx("p",{children:"저희에게 더 없는 큰 기쁨이 되겠습니다."})]})})]});const ix=()=>u.jsxs("section",{id:"editor-section-family",className:"family-section",children:[u.jsx("div",{className:"wavebg",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 65",preserveAspectRatio:"xMidYMid meet",children:[u.jsx("g",{fill:"#f9f9f9",stroke:"none",transform:"translate(0,65) scale(0.1,-0.1)",children:u.jsx("path",{d:"M6470 629 c-1061 -34 -2002 -142 -3561 -408 -675 -115 -1198 -174 -1899 -214 -30 -2 2755 -3 6190 -3 3435 0 6225 1 6200 3 -25 1 -126 7 -225 13 -536 32 -1103 100 -1740 210 -737 127 -1570 247 -2110 305 -835 89 -1920 125 -2855 94z"})}),u.jsxs("g",{fill:"#f9f9f9",stroke:"none",transform:"translate(0,65) scale(0.1,-0.1)",className:"opacity-50",children:[u.jsx("path",{d:"M0 322 l0 -322 3073 1 c1689 1 3018 5 2952 10 -705 47 -1210 110 -1970 245 -324 57 -1231 193 -1590 238 -665 83 -1301 126 -2117 142 l-348 7 0 -321z"}),u.jsx("path",{d:"M13880 633 c-743 -17 -1425 -69 -2105 -159 -340 -45 -1173 -172 -1460 -223 -763 -135 -1251 -194 -2020 -244 -27 -2 1335 -4 3028 -5 l3077 -2 0 320 0 320 -207 -2 c-115 -1 -255 -3 -313 -5z"})]})]})}),u.jsxs("div",{className:"family-content",children:[u.jsxs("div",{className:"section-family-area-1",children:[u.jsx("div",{className:"family-parents",children:u.jsx("div",{className:"family-father",children:"강순원원"})}),u.jsx("div",{className:"family-middot",children:"·"}),u.jsx("div",{className:"family-parents",children:u.jsx("div",{className:"family-mother",children:"강순원투"})}),u.jsx("div",{className:"family-no-parent",children:"의"}),u.jsx("div",{className:"family-relationship",children:"아들"}),u.jsx("div",{className:"family-child",children:u.jsx("div",{className:"family-name",children:u.jsx("p",{children:"순원"})})})]}),u.jsxs("div",{className:"section-family-area-2",children:[u.jsx("div",{className:"family-parents",children:u.jsx("div",{className:"family-father",children:"강순투원"})}),u.jsx("div",{className:"family-middot",children:"·"}),u.jsx("div",{className:"family-parents",children:u.jsx("div",{className:"family-mother",children:"강순투투"})}),u.jsx("div",{className:"family-no-parent",children:"의"}),u.jsx("div",{className:"family-relationship",children:"딸"}),u.jsx("div",{className:"family-child",children:u.jsx("div",{className:"family-name",children:u.jsx("p",{children:"순투"})})})]})]})]}),sx=()=>{const[t,e]=z.useState(!1);z.useEffect(()=>{localStorage.getItem("textSizePreference")==="large"&&(e(!0),document.body.classList.add("large-text"))},[]);const n=()=>{const r=!t;e(r),r?(document.body.classList.add("large-text"),localStorage.setItem("textSizePreference","large")):(document.body.classList.remove("large-text"),localStorage.setItem("textSizePreference","normal"))};return u.jsxs("button",{onClick:n,className:"text-size-toggle","aria-label":t?"일반 글씨 크기로 보기":"큰 글씨로 보기",children:[u.jsx(mv,{}),u.jsx("span",{children:"큰 글씨"})]})},ox=()=>{const[t,e]=z.useState(!1),[n,r]=z.useState(!1),i=z.useRef(null);z.useEffect(()=>(i.current=new Audio("wedding-music.mp3"),i.current.loop=!0,()=>{i.current&&(i.current.pause(),i.current=null)}),[]);const s=()=>{i.current&&(t?i.current.pause():i.current.play().catch(l=>{console.error("Error playing audio:",l)}),e(!t))},o=()=>{i.current&&(i.current.muted=!n,r(!n))};return u.jsxs("div",{className:"music-player",children:[u.jsxs("button",{onClick:s,className:"music-button","aria-label":t?"음악 일시정지":"음악 재생",children:[t?u.jsx(dv,{}):u.jsx(fv,{}),u.jsxs("span",{children:["음악 ",t?"정지":"재생"]})]}),u.jsx("button",{onClick:o,className:"music-button","aria-label":n?"음소거 해제":"음소거",children:n?u.jsx(gv,{}):u.jsx(_v,{})})]})},lx="439c8fb6037735b1a6e4856e2772f492",Yu=()=>{try{return typeof window<"u"&&window.Kakao?(window.Kakao.isInitialized()||(window.Kakao.init(lx),console.log("Kakao SDK initialized successfully")),!0):!1}catch(t){return console.error("Failed to initialize Kakao SDK:",t),!1}},ax=()=>{if(!Yu()){alert("카카오톡 공유 기능을 사용할 수 없습니다.");return}try{const t={objectType:"feed",content:{title:"순원 ♥ 순투 결혼식에 초대합니다",description:`2026년 1월 10일 오전 11시
영등포 더컨벤션 2층

저희의 새로운 시작을 함께해주세요 💕`,imageUrl:"https://soonwonkong.github.io/wedding/images/cover.jpg",link:{mobileWebUrl:"https://soonwonkong.github.io/wedding",webUrl:"https://soonwonkong.github.io/wedding"}},buttons:[{title:"청첩장 보기",link:{mobileWebUrl:"https://soonwonkong.github.io/wedding",webUrl:"https://soonwonkong.github.io/wedding"}}]};window.Kakao.Share.sendDefault(t)}catch(t){console.error("Failed to share via Kakao:",t),alert("카카오톡 공유 중 오류가 발생했습니다. 다시 시도해주세요.")}},cx=()=>{navigator.share?navigator.share({title:"순원 ♥ 순투 결혼식에 초대합니다",text:"2026년 1월 10일 오전 11시, 영등포 더컨벤션에서 새로운 시작을 함께해주세요",url:"https://soonwonkong.github.io/wedding"}).catch(t=>{console.error("Web Share failed:",t),mf()}):mf()},mf=()=>{const t="https://soonwonkong.github.io/wedding";navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{alert(`청첩장 링크가 복사되었습니다!
`+t)}).catch(()=>{gf(t)}):gf(t)},gf=t=>{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),alert(`청첩장 링크가 복사되었습니다!
`+t)}catch(n){console.error("Fallback copy failed:",n),alert(`링크 복사에 실패했습니다. 수동으로 복사해주세요:
`+t)}document.body.removeChild(e)};const ux=({isOpen:t,onClose:e})=>{if(z.useEffect(()=>{t&&Yu()},[t]),!t)return null;const n=window.location.href,r=async()=>{try{if(!confirm(`카카오톡 캘린더에 일정을 등록하려면 카카오 로그인이 필요합니다.
로그인 페이지로 이동하시겠습니까?`))return;const l=`https://kauth.kakao.com/oauth/authorize?client_id=your_kakao_client_id_here&redirect_uri=${encodeURIComponent(window.location.origin+"/auth/kakao")}&response_type=code&scope=talk_calendar`,a=window.open(l,"kakaoLogin","width=500,height=600,scrollbars=yes,resizable=yes"),c=d=>{if(d.origin===window.location.origin&&d.data.type==="KAKAO_AUTH_SUCCESS"){const f=d.data.accessToken;i(f),a==null||a.close(),window.removeEventListener("message",c)}};window.addEventListener("message",c)}catch(o){console.error("카카오 캘린더 일정 등록 오류:",o),alert("일정 등록 중 오류가 발생했습니다.")}},i=async o=>{try{const l={title:"순원 ♥ 순투 결혼식",time:{start_at:"2026-01-10T02:00:00Z",end_at:"2026-01-10T05:00:00Z",time_zone:"Asia/Seoul",all_day:!1,lunar:!1},description:`저희의 소중한 날에 함께해 주세요.

`+n,location:{name:"영등포 더컨벤션",address:"서울 영등포구 국회대로 38길 2",latitude:37.517331,longitude:126.903379},reminders:[1440,60],color:"RED"},a=await fetch("https://kapi.kakao.com/v2/api/calendar/create/event",{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({calendar_id:"primary",event:JSON.stringify(l)})});if(a.ok){const c=await a.json();alert("결혼식 일정이 카카오톡 캘린더에 성공적으로 등록되었습니다!"),console.log("일정 등록 성공:",c)}else throw new Error("일정 등록 실패")}catch(l){console.error("일정 등록 오류:",l),alert("일정 등록에 실패했습니다. 다시 시도해주세요.")}},s=o=>{switch(o){case"kakao":ax();break;case"web":cx();break}};return u.jsx("div",{className:"share-modal-overlay",onClick:e,children:u.jsxs("div",{className:"share-modal-content",onClick:o=>o.stopPropagation(),children:[u.jsx("div",{className:"share-content",children:u.jsxs("div",{className:"share-grid",children:[u.jsxs("div",{className:"share-item",onClick:()=>s("kakao"),children:[u.jsx("div",{className:"share-icon",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-12",children:u.jsxs("g",{children:[u.jsx("path",{fill:"none",d:"M0 0h24v24H0z"}),u.jsx("path",{d:"M12 3c5.799 0 10.5 3.664 10.5 8.185 0 4.52-4.701 8.184-10.5 8.184a13.5 13.5 0 0 1-1.727-.11l-4.408 2.883c-.501.265-.678.236-.472-.413l.892-3.678c-2.88-1.46-4.785-3.99-4.785-6.866C1.5 6.665 6.201 3 12 3zm5.907 8.06l1.47-1.424a.472.472 0 0 0-.656-.678l-1.928 1.866V9.282a.472.472 0 0 0-.944 0v2.557a.471.471 0 0 0 0 .222V13.5a.472.472 0 0 0 .944 0v-1.363l.427-.413 1.428 2.033a.472.472 0 1 0 .773-.543l-1.514-2.155zm-2.958 1.924h-1.46V9.297a.472.472 0 0 0-.943 0v4.159c0 .26.21.472.471.472h1.932a.472.472 0 1 0 0-.944zm-5.857-1.092l.696-1.707.638 1.707H9.092zm2.523.488l.002-.016a.469.469 0 0 0-.127-.32l-1.046-2.8a.69.69 0 0 0-.627-.474.696.696 0 0 0-.653.447l-1.661 4.075a.472.472 0 0 0 .874.357l.33-.813h2.07l.299.8a.472.472 0 1 0 .884-.33l-.345-.926zM8.293 9.302a.472.472 0 0 0-.471-.472H4.577a.472.472 0 1 0 0 .944h1.16v3.736a.472.472 0 0 0 .944 0V9.774h1.14c.261 0 .472-.212.472-.472z"})]})})}),u.jsx("div",{className:"share-label",children:"카카오톡"})]}),u.jsxs("div",{className:"share-item",onClick:()=>s("web"),children:[u.jsx("div",{className:"share-icon",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-12",children:u.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92S19.61 16.08 18 16.08z"})})}),u.jsx("div",{className:"share-label",children:"공유하기"})]}),u.jsxs("div",{className:"share-item",onClick:r,children:[u.jsx("div",{className:"share-icon",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-12",children:u.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V9h14v10zm0-12H5V5h14v2zM7 11h5v5H7z"})})}),u.jsx("div",{className:"share-label",children:"캘린더"})]})]})}),u.jsx("div",{className:"modal-footer",children:u.jsx("button",{className:"close-button",onClick:e,children:"닫기"})})]})})};const dx=()=>{const[t,e]=z.useState(!1),n=()=>{e(!0)},r=()=>{e(!1)};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"floating-controls",children:u.jsxs("div",{className:"controls-container",children:[u.jsxs("button",{className:"share-button",onClick:n,children:[u.jsx(pv,{}),u.jsx("span",{children:"공유"})]}),u.jsx(sx,{}),u.jsx(ox,{})]})}),u.jsx(ux,{isOpen:t,onClose:r})]})};const hx=()=>u.jsxs("div",{className:"closing-message",children:[u.jsx("div",{className:"divider"}),u.jsx("p",{children:"소중한 마음 감사드립니다"}),u.jsx("div",{className:"signature",children:"강순원 · 강순투 드림"})]});function fx(){return z.useEffect(()=>{Yu()},[]),u.jsxs("div",{className:"app",children:[u.jsx(dx,{}),u.jsxs("main",{className:"invitation-container",children:[u.jsx("div",{className:"section cover-section",children:u.jsx(nx,{})}),u.jsx("div",{className:"section",children:u.jsx(rx,{})}),u.jsx("div",{className:"section",children:u.jsx(ix,{})}),u.jsx("div",{className:"section",children:u.jsx(vv,{})}),u.jsx("div",{className:"section",children:u.jsx(yv,{})}),u.jsx("div",{className:"section",children:u.jsx(wv,{})}),u.jsx("div",{className:"section",children:u.jsx(Ev,{})}),u.jsx("div",{className:"section",children:u.jsx(xv,{})}),u.jsx("div",{className:"section",children:u.jsx(Nv,{})}),u.jsx("div",{className:"section",children:u.jsx(Iv,{})}),u.jsx("div",{className:"section",children:u.jsx(tx,{})}),u.jsx("div",{className:"section",children:u.jsx(hx,{})})]})]})}Wl.createRoot(document.getElementById("root")).render(u.jsx(Wt.StrictMode,{children:u.jsx(fx,{})}));
